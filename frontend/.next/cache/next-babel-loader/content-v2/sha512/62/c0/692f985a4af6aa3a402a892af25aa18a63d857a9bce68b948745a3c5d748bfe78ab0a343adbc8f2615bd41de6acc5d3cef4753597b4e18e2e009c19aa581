{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\next-react-hooks-strapi-food-delivery\\\\frontend\\\\components\\\\RestaurantList\\\\AddResForm.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/* /components/Checkout/CheckoutForm.js */\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { FormGroup, Label, Input } from \"reactstrap\";\nimport fetch from \"isomorphic-fetch\"; //import Cookies from \"js-cookie\";\n//import { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\n//import CardSection from \"./CardSection\";\n\nimport AppContext from \"../../context/AppContext\"; //import Ckeditor from \"../ckeditor/Ckeditor\";\n//import Compotest from \"../ckeditor/Compotest\";\n\nimport dynamic from 'next/dynamic';\nimport $ from \"jquery\";\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\nimport Router from \"next/router\";\nconst Ckeditor = dynamic(() => import('../ckeditor/Ckeditor'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('../ckeditor/Ckeditor')],\n    modules: ['../ckeditor/Ckeditor']\n  }\n});\nconst MySwal = withReactContent(Swal);\n\nfunction AddResForm() {\n  const {\n    0: data,\n    1: setData\n  } = useState({\n    nameshop: \"\",\n    description: \"\"\n  });\n  const {\n    0: error,\n    1: setError\n  } = useState(\"\"); //const stripe = useStripe();\n  //const elements = useElements();\n\n  const appContext = useContext(AppContext);\n  const {\n    0: selectedFile,\n    1: setSelectedFile\n  } = useState();\n  const {\n    0: preview,\n    1: setPreview\n  } = useState();\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false); // create a preview as a side effect, whenever selected file is changed\n\n  useEffect(() => {\n    if (!selectedFile) {\n      setPreview(undefined);\n      return;\n    }\n\n    const objectUrl = URL.createObjectURL(selectedFile);\n    setPreview(objectUrl); // free memory when ever this component is unmounted\n\n    return () => URL.revokeObjectURL(objectUrl);\n  }, [selectedFile]);\n  useEffect(() => {\n    $(\".nameshop\").change(function () {\n      alert(\"test\");\n    });\n  }, []);\n\n  function onChange(e) {\n    //alert(data.description)\n    // set the key = to the name property equal to the value typed\n    const updateItem = data[e.target.name] = e.target.value; // update the state data object\n\n    setData(_objectSpread(_objectSpread({}, data), {}, {\n      updateItem\n    }));\n    /*MySwal.fire({\r\n      title: <p>Hello World</p>,\r\n      footer: 'Copyright 2018',\r\n      didOpen: () => {\r\n        // `MySwal` is a subclass of `Swal`\r\n        //   with all the same instance & static methods\r\n        MySwal.clickConfirm()\r\n      }\r\n    })\r\n    .then(() => {\r\n      return MySwal.fire(<p>Shorthand works too</p>)\r\n    })*/\n  } //document.querySelector(\"#validatedCustomFile\").onchange = function(){\n\n\n  function onChangeF(e) {\n    document.querySelector(\"#file-name\").textContent = e.target.files[0].name;\n\n    if (!e.target.files || e.target.files.length === 0) {\n      setSelectedFile(undefined);\n      return;\n    } // I've kept this example simple by using the first image instead of multiple\n\n\n    setSelectedFile(e.target.files[0]);\n  } //}\n\n\n  async function submitAddRestaurant(event) {\n    //alert(data.description);\n    event.preventDefault(); // // Use elements.getElement to get a reference to the mounted Element.\n    //const cardElement = elements.getElement(CardElement);\n    // // Pass the Element directly to other Stripe.js methods:\n    // // e.g. createToken - https://stripe.com/docs/js/tokens_sources/create_token?type=cardElement\n    // get token back from stripe to process credit card\n    //const token = await stripe.createToken(cardElement);\n    //const userToken = Cookies.get(\"token\");\n\n    if (data.nameshop == \"\") {\n      MySwal.fire({\n        icon: 'error',\n        //title: 'Oops...',\n        text: 'กรุณากรอกชื่อร้าน',\n        onAfterClose: () => {\n          setTimeout(() => document.querySelector(\"input[name='nameshop']\").focus(), 110);\n        } //footer: '<a href>Why do I have this issue?</a>'\n\n      });\n    } else if (data.description == \"\") {\n      MySwal.fire({\n        icon: 'error',\n        //title: 'Oops...',\n        text: 'กรุณากรอกรายละเอียดร้าน' //footer: '<a href>Why do I have this issue?</a>'\n\n      });\n    } else {\n      setLoading(true);\n      event.target.disabled = true;\n      const fileInput = document.querySelector(\"input[name='image']\");\n      const formData = new FormData();\n      formData.append('data', JSON.stringify({\n        name: data.nameshop,\n        description: data.description\n      }));\n\n      if (fileInput.files[0]) {\n        formData.append(`files.image`, fileInput.files[0], fileInput.files[0].name);\n      }\n\n      const response = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/restaurants`, {\n        method: \"POST\",\n        //headers: userToken && { Authorization: `Bearer ${userToken}` },\n        //headers: {'Content-Type': 'application/json'},\n        //headers: {'Content-Type': 'multipart/form-data'},\n        //headers: {'Content-Type': 'application/x-www-form-urlencoded'},\n\n        /*body: JSON.stringify({\r\n          name: data.nameshop,\r\n          description: data.description,\r\n          amount: Number(Math.round(appContext.cart.total + \"e2\") + \"e-2\"),\r\n          dishes: appContext.cart.items,\r\n          address: data.address,\r\n          city: data.city,\r\n          state: data.state,\r\n          token: token.token.id,\r\n        }),*/\n        body: formData\n      });\n\n      if (!response.ok) {\n        setError(response.statusText);\n      } else {\n        MySwal.fire({\n          icon: 'success',\n          text: 'เพิ่มข้อมูลร้านเรียบร้อย',\n          allowOutsideClick: false\n        }).then(() => {\n          Router.push(\"/\");\n        });\n      }\n    } // OTHER stripe methods you can use depending on app\n    // // or createPaymentMethod - https://stripe.com/docs/js/payment_intents/create_payment_method\n    // stripe.createPaymentMethod({\n    //   type: \"card\",\n    //   card: cardElement,\n    // });\n    // // or confirmCardPayment - https://stripe.com/docs/js/payment_intents/confirm_card_payment\n    // stripe.confirmCardPayment(paymentIntentClientSecret, {\n    //   payment_method: {\n    //     card: cardElement,\n    //   },\n    // });\n\n  }\n\n  return __jsx(\"div\", {\n    className: \"jsx-3875119615\" + \" \" + \"paper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 5\n    }\n  }, __jsx(\"h5\", {\n    className: \"jsx-3875119615\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }\n  }, \"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\\u0E23\\u0E49\\u0E32\\u0E19 :\"), __jsx(\"hr\", {\n    className: \"jsx-3875119615\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }\n  }), __jsx(FormGroup, {\n    style: {\n      display: \"flex\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    style: {\n      flex: \"0.90\",\n      marginRight: 10\n    },\n    className: \"jsx-3875119615\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }\n  }, __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 11\n    }\n  }, \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E23\\u0E49\\u0E32\\u0E19\"), __jsx(Input, {\n    style: {\n      width: 200\n    },\n    name: \"nameshop\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 11\n    }\n  }))), __jsx(FormGroup, {\n    style: {\n      display: \"flex\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    style: {\n      flex: \"0.65\",\n      marginRight: \"6%\"\n    },\n    className: \"jsx-3875119615\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }\n  }, __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 11\n    }\n  }, \"\\u0E20\\u0E32\\u0E1E\"), __jsx(\"div\", {\n    class: \"custom-file\",\n    className: \"jsx-3875119615\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 11\n    }\n  }, __jsx(Input, {\n    type: \"file\",\n    name: \"image\",\n    onChange: onChangeF,\n    class: \"custom-file-input\",\n    id: \"validatedCustomFile\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 11\n    }\n  }), __jsx(\"label\", {\n    id: \"file-name\",\n    class: \"custom-file-label\",\n    for: \"validatedCustomFile\",\n    className: \"jsx-3875119615\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 11\n    }\n  }, \"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E23\\u0E39\\u0E1B\\u0E20\\u0E32\\u0E1E...\"), __jsx(\"div\", {\n    class: \"invalid-feedback\",\n    className: \"jsx-3875119615\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 11\n    }\n  }, \"Example invalid custom file feedback\")), __jsx(\"div\", {\n    style: {\n      marginTop: 5\n    },\n    className: \"jsx-3875119615\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 11\n    }\n  }, selectedFile && __jsx(\"img\", {\n    style: {\n      width: \"100%\"\n    },\n    src: preview,\n    className: \"jsx-3875119615\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 29\n    }\n  })))), __jsx(FormGroup, {\n    style: {\n      display: \"flex\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    style: {\n      flex: \"0.65\",\n      marginRight: \"6%\"\n    },\n    className: \"jsx-3875119615\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 9\n    }\n  }, __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 11\n    }\n  }, \"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\"), __jsx(\"div\", {\n    className: \"jsx-3875119615\" + \" \" + \"ck ck-toolbar-dropdown ck-toolbar ck-toolbar__items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3875119615\" + \" \" + \"ck-editor__editable\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 11\n    }\n  }, __jsx(Ckeditor, {\n    onChange: v => {\n      data['description'] = v;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 11\n    }\n  }))))), __jsx(\"div\", {\n    className: \"jsx-3875119615\" + \" \" + \"order-button-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }\n  }, __jsx(\"button\", {\n    onClick: submitAddRestaurant,\n    className: \"jsx-3875119615\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 9\n    }\n  }, loading ? \"Loading... \" : \"เพิ่มร้านค้า\")), __jsx(_JSXStyle, {\n    id: \"3875119615\",\n    __self: this,\n    __source: void 0\n  }, \"@media (max-width:350px){.ck.ck-toolbar-dropdown .ck.ck-toolbar .ck.ck-toolbar__items{-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;min-width:70vw;}}@media only screen and (max-width:768px){.ck-editor__editable{min-height:300px;width:270px;}}@media only screen and (min-width:768px){.ck-editor__editable{min-height:400px;}}.paper{border:1px solid lightgray;box-shadow:0px 1px 3px 0px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 2px 1px -1px rgba(0,0,0,0.12);height:auto;padding:30px;background:#fff;border-radius:6px;margin-top:10px;margin-bottom:10px;}.form-half{-webkit-flex:0.5;-ms-flex:0.5;flex:0.5;}*{box-sizing:border-box;}body,html{background-color:#f6f9fc;font-size:18px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;}h1{color:#32325d;font-weight:400;line-height:50px;font-size:40px;margin:20px 0;padding:0;}.Checkout{margin:0 auto;max-width:800px;box-sizing:border-box;padding:0 5px;}label{color:#6b7c93;font-weight:300;-webkit-letter-spacing:0.025em;-moz-letter-spacing:0.025em;-ms-letter-spacing:0.025em;letter-spacing:0.025em;}button{white-space:nowrap;border:0;outline:0;display:inline-block;height:40px;line-height:40px;padding:0 14px;box-shadow:0 4px 6px rgba(50,50,93,0.11), 0 1px 3px rgba(0,0,0,0.08);color:#fff;border-radius:4px;font-size:15px;font-weight:600;text-transform:uppercase;-webkit-letter-spacing:0.025em;-moz-letter-spacing:0.025em;-ms-letter-spacing:0.025em;letter-spacing:0.025em;background-color:#6772e5;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:all 150ms ease;-webkit-transition:all 150ms ease;transition:all 150ms ease;margin-top:10px;}form{margin-bottom:40px;padding-bottom:40px;border-bottom:3px solid #e6ebf1;}button:hover{color:#fff;cursor:pointer;background-color:#7795f8;-webkit-transform:translateY(-1px);-ms-transform:translateY(-1px);transform:translateY(-1px);box-shadow:0 7px 14px rgba(50,50,93,0.1), 0 3px 6px rgba(0,0,0,0.08);}textarea{display:block;background-color:#f8f9fa !important;margin:10px 0 20px 0;max-width:500px;padding:10px 14px;font-size:1em;font-family:\\\"Source Code Pro\\\",monospace;box-shadow:rgba(50,50,93,0.14902) 0px 1px 3px, rgba(0,0,0,0.0196078) 0px 1px 0px;border:0;outline:0;border-radius:4px;background:white;width:440px;resize:vertical;overflow:auto;height:120px;}input,.StripeElement{display:block;background-color:#f8f9fa !important;margin:10px 0 20px 0;max-width:500px;padding:10px 14px;font-size:1em;font-family:\\\"Source Code Pro\\\",monospace;box-shadow:rgba(50,50,93,0.14902) 0px 1px 3px, rgba(0,0,0,0.0196078) 0px 1px 0px;border:0;outline:0;border-radius:4px;background:white;}input::-webkit-input-placeholder{color:#aab7c4;}input::-moz-placeholder{color:#aab7c4;}input:-ms-input-placeholder{color:#aab7c4;}input::placeholder{color:#aab7c4;}input:focus,.StripeElement--focus{box-shadow:rgba(50,50,93,0.109804) 0px 4px 6px, rgba(0,0,0,0.0784314) 0px 1px 3px;-webkit-transition:all 150ms ease;-webkit-transition:all 150ms ease;transition:all 150ms ease;}.StripeElement.IdealBankElement,.StripeElement.PaymentRequestButton{padding:0;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFx4YW1wcFxcaHRkb2NzXFxuZXh0LXJlYWN0LWhvb2tzLXN0cmFwaS1mb29kLWRlbGl2ZXJ5XFxmcm9udGVuZFxcY29tcG9uZW50c1xcUmVzdGF1cmFudExpc3RcXEFkZFJlc0Zvcm0uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBOE9TLEFBSzhCLEFBT0EsQUFPRSxBQUtRLEFBWWxCLEFBR2EsQUFJRyxBQUtYLEFBUUEsQUFNQSxBQUtLLEFBc0JBLEFBS1IsQUFRRyxBQW9CQSxBQWVBLEFBS3dCLEFBTTVCLFVBQ1osQ0F0RGlCLEdBOUNDLEFBUUEsQUFNQSxBQXdDb0IsQUFvQkEsQUFldEMsR0E3SGEsQUFPYixFQWdEVyxBQXNCVyxHQWxEdEIsR0FJaUIsQ0FvRFUsQ0FyRWEsQ0EwQzVCLENBdkRaLENBb0NtQixBQVFLLEFBTUMsUUFNRixDQWpDdkIsQUFzRGtDLENBOUN5QixPQU0xQyxHQXFETSxBQW9CQSxDQTNCTSxDQXRDYixLQXJERyxFQWlFTCxHQW5CRSxJQVFoQixLQVltQixBQW9CbkIsQUFha0IsQUFvQkEsQ0F0SGhCLElBOENVLE1BMEZ3QixJQXpGcEMsQ0FvRG9CLEFBb0JBLENBckRILE1BM0JqQixTQTZCaUMsRUFnQ2pCLEFBb0JBLFdBaUJZLEdBcENlLEFBb0JBLG9CQXBHN0IsQUFxQ2QsS0FrQ2lDLE9BdEVsQixRQWlGeUIsQUFvQkEsS0FwR3RCLFFBOENMLElBcUViLElBbEhvQixHQThDQSxlQTdDRixHQThDRCxZQXNCakIsQ0FuRXFCLEVBOENILGdCQUNTLENBOUMzQixPQTZFVyxBQW9CQSxTQW5CQyxBQW9CQSxRQW5EYSxFQWdDTCxBQW9CQSxrQkFuQkQsQUFvQkEsaUJBbkJMLEFBb0JkLFlBbkJrQixnQkFDRixjQUNGLGFBQ2QsaUJBckMyQix5QkFDSixrREFDYSxrQ0FDUiw0REFDVixnQkFDbEIiLCJmaWxlIjoiQzpcXHhhbXBwXFxodGRvY3NcXG5leHQtcmVhY3QtaG9va3Mtc3RyYXBpLWZvb2QtZGVsaXZlcnlcXGZyb250ZW5kXFxjb21wb25lbnRzXFxSZXN0YXVyYW50TGlzdFxcQWRkUmVzRm9ybS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIC9jb21wb25lbnRzL0NoZWNrb3V0L0NoZWNrb3V0Rm9ybS5qcyAqL1xyXG5cclxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VDb250ZXh0LCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcclxuXHJcbmltcG9ydCB7IEZvcm1Hcm91cCwgTGFiZWwsIElucHV0IH0gZnJvbSBcInJlYWN0c3RyYXBcIjtcclxuXHJcbmltcG9ydCBmZXRjaCBmcm9tIFwiaXNvbW9ycGhpYy1mZXRjaFwiO1xyXG4vL2ltcG9ydCBDb29raWVzIGZyb20gXCJqcy1jb29raWVcIjtcclxuLy9pbXBvcnQgeyBDYXJkRWxlbWVudCwgdXNlU3RyaXBlLCB1c2VFbGVtZW50cyB9IGZyb20gXCJAc3RyaXBlL3JlYWN0LXN0cmlwZS1qc1wiO1xyXG5cclxuLy9pbXBvcnQgQ2FyZFNlY3Rpb24gZnJvbSBcIi4vQ2FyZFNlY3Rpb25cIjtcclxuaW1wb3J0IEFwcENvbnRleHQgZnJvbSBcIi4uLy4uL2NvbnRleHQvQXBwQ29udGV4dFwiO1xyXG4vL2ltcG9ydCBDa2VkaXRvciBmcm9tIFwiLi4vY2tlZGl0b3IvQ2tlZGl0b3JcIjtcclxuLy9pbXBvcnQgQ29tcG90ZXN0IGZyb20gXCIuLi9ja2VkaXRvci9Db21wb3Rlc3RcIjtcclxuaW1wb3J0IGR5bmFtaWMgZnJvbSAnbmV4dC9keW5hbWljJztcclxuXHJcbmltcG9ydCAkIGZyb20gXCJqcXVlcnlcIjtcclxuXHJcbmltcG9ydCBTd2FsIGZyb20gJ3N3ZWV0YWxlcnQyJ1xyXG5pbXBvcnQgd2l0aFJlYWN0Q29udGVudCBmcm9tICdzd2VldGFsZXJ0Mi1yZWFjdC1jb250ZW50J1xyXG5pbXBvcnQgUm91dGVyIGZyb20gXCJuZXh0L3JvdXRlclwiO1xyXG5cclxuY29uc3QgQ2tlZGl0b3IgPSBkeW5hbWljKCgpID0+IGltcG9ydCgnLi4vY2tlZGl0b3IvQ2tlZGl0b3InKSwgeyBzc3I6IGZhbHNlIH0pXHJcblxyXG5jb25zdCBNeVN3YWwgPSB3aXRoUmVhY3RDb250ZW50KFN3YWwpO1xyXG5cclxuZnVuY3Rpb24gQWRkUmVzRm9ybSgpIHtcclxuICBjb25zdCBbZGF0YSwgc2V0RGF0YV0gPSB1c2VTdGF0ZSh7XHJcbiAgICBuYW1lc2hvcDogXCJcIixcclxuICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxyXG4gIH0pO1xyXG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoXCJcIik7XHJcbiAgLy9jb25zdCBzdHJpcGUgPSB1c2VTdHJpcGUoKTtcclxuICAvL2NvbnN0IGVsZW1lbnRzID0gdXNlRWxlbWVudHMoKTtcclxuICBjb25zdCBhcHBDb250ZXh0ID0gdXNlQ29udGV4dChBcHBDb250ZXh0KTtcclxuXHJcbiAgY29uc3QgW3NlbGVjdGVkRmlsZSwgc2V0U2VsZWN0ZWRGaWxlXSA9IHVzZVN0YXRlKClcclxuICBjb25zdCBbcHJldmlldywgc2V0UHJldmlld10gPSB1c2VTdGF0ZSgpXHJcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpXHJcblxyXG4gICAgLy8gY3JlYXRlIGEgcHJldmlldyBhcyBhIHNpZGUgZWZmZWN0LCB3aGVuZXZlciBzZWxlY3RlZCBmaWxlIGlzIGNoYW5nZWRcclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFzZWxlY3RlZEZpbGUpIHtcclxuICAgICAgICAgICAgc2V0UHJldmlldyh1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgb2JqZWN0VXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChzZWxlY3RlZEZpbGUpXHJcbiAgICAgICAgc2V0UHJldmlldyhvYmplY3RVcmwpXHJcblxyXG4gICAgICAgIC8vIGZyZWUgbWVtb3J5IHdoZW4gZXZlciB0aGlzIGNvbXBvbmVudCBpcyB1bm1vdW50ZWRcclxuICAgICAgICByZXR1cm4gKCkgPT4gVVJMLnJldm9rZU9iamVjdFVSTChvYmplY3RVcmwpXHJcblxyXG4gICAgfSwgW3NlbGVjdGVkRmlsZV0pXHJcblxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgJChcIi5uYW1lc2hvcFwiKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgYWxlcnQoIFwidGVzdFwiICk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSwgW10pXHJcblxyXG4gIGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcclxuICAgIC8vYWxlcnQoZGF0YS5kZXNjcmlwdGlvbilcclxuICAgIC8vIHNldCB0aGUga2V5ID0gdG8gdGhlIG5hbWUgcHJvcGVydHkgZXF1YWwgdG8gdGhlIHZhbHVlIHR5cGVkXHJcbiAgICBjb25zdCB1cGRhdGVJdGVtID0gKGRhdGFbZS50YXJnZXQubmFtZV0gPSBlLnRhcmdldC52YWx1ZSk7XHJcbiAgICAvLyB1cGRhdGUgdGhlIHN0YXRlIGRhdGEgb2JqZWN0XHJcbiAgICBzZXREYXRhKHsgLi4uZGF0YSwgdXBkYXRlSXRlbSB9KTtcclxuXHJcbiAgICAvKk15U3dhbC5maXJlKHtcclxuICAgICAgdGl0bGU6IDxwPkhlbGxvIFdvcmxkPC9wPixcclxuICAgICAgZm9vdGVyOiAnQ29weXJpZ2h0IDIwMTgnLFxyXG4gICAgICBkaWRPcGVuOiAoKSA9PiB7XHJcbiAgICAgICAgLy8gYE15U3dhbGAgaXMgYSBzdWJjbGFzcyBvZiBgU3dhbGBcclxuICAgICAgICAvLyAgIHdpdGggYWxsIHRoZSBzYW1lIGluc3RhbmNlICYgc3RhdGljIG1ldGhvZHNcclxuICAgICAgICBNeVN3YWwuY2xpY2tDb25maXJtKClcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgcmV0dXJuIE15U3dhbC5maXJlKDxwPlNob3J0aGFuZCB3b3JrcyB0b288L3A+KVxyXG4gICAgfSkqL1xyXG4gICAgXHJcbiAgfVxyXG5cclxuICAvL2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdmFsaWRhdGVkQ3VzdG9tRmlsZVwiKS5vbmNoYW5nZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICBmdW5jdGlvbiBvbkNoYW5nZUYoZSkge1xyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ZpbGUtbmFtZVwiKS50ZXh0Q29udGVudCA9IGUudGFyZ2V0LmZpbGVzWzBdLm5hbWU7XHJcbiAgICAgIGlmICghZS50YXJnZXQuZmlsZXMgfHwgZS50YXJnZXQuZmlsZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgc2V0U2VsZWN0ZWRGaWxlKHVuZGVmaW5lZClcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG4gICAgICAvLyBJJ3ZlIGtlcHQgdGhpcyBleGFtcGxlIHNpbXBsZSBieSB1c2luZyB0aGUgZmlyc3QgaW1hZ2UgaW5zdGVhZCBvZiBtdWx0aXBsZVxyXG4gICAgICBzZXRTZWxlY3RlZEZpbGUoZS50YXJnZXQuZmlsZXNbMF0pXHJcbiAgICB9XHJcbiAgLy99XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIHN1Ym1pdEFkZFJlc3RhdXJhbnQoZXZlbnQpIHtcclxuICAgICAgLy9hbGVydChkYXRhLmRlc2NyaXB0aW9uKTtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAvLyAvLyBVc2UgZWxlbWVudHMuZ2V0RWxlbWVudCB0byBnZXQgYSByZWZlcmVuY2UgdG8gdGhlIG1vdW50ZWQgRWxlbWVudC5cclxuICAgIC8vY29uc3QgY2FyZEVsZW1lbnQgPSBlbGVtZW50cy5nZXRFbGVtZW50KENhcmRFbGVtZW50KTtcclxuXHJcbiAgICAvLyAvLyBQYXNzIHRoZSBFbGVtZW50IGRpcmVjdGx5IHRvIG90aGVyIFN0cmlwZS5qcyBtZXRob2RzOlxyXG4gICAgLy8gLy8gZS5nLiBjcmVhdGVUb2tlbiAtIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL3Rva2Vuc19zb3VyY2VzL2NyZWF0ZV90b2tlbj90eXBlPWNhcmRFbGVtZW50XHJcbiAgICAvLyBnZXQgdG9rZW4gYmFjayBmcm9tIHN0cmlwZSB0byBwcm9jZXNzIGNyZWRpdCBjYXJkXHJcbiAgICAvL2NvbnN0IHRva2VuID0gYXdhaXQgc3RyaXBlLmNyZWF0ZVRva2VuKGNhcmRFbGVtZW50KTtcclxuICAgIC8vY29uc3QgdXNlclRva2VuID0gQ29va2llcy5nZXQoXCJ0b2tlblwiKTtcclxuICAgIGlmKGRhdGEubmFtZXNob3AgPT0gXCJcIil7XHJcbiAgICAgIFxyXG4gICAgICBNeVN3YWwuZmlyZSh7XHJcbiAgICAgIGljb246ICdlcnJvcicsXHJcbiAgICAgIC8vdGl0bGU6ICdPb3BzLi4uJyxcclxuICAgICAgdGV4dDogJ+C4geC4o+C4uOC4k+C4suC4geC4o+C4reC4geC4iuC4t+C5iOC4reC4o+C5ieC4suC4mScsXHJcbiAgICAgIG9uQWZ0ZXJDbG9zZTogKCkgPT4ge1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImlucHV0W25hbWU9J25hbWVzaG9wJ11cIikuZm9jdXMoKSwgMTEwKTtcclxuICAgICAgfVxyXG4gICAgICAvL2Zvb3RlcjogJzxhIGhyZWY+V2h5IGRvIEkgaGF2ZSB0aGlzIGlzc3VlPzwvYT4nXHJcbiAgICAgIH0pXHJcbiAgICAgIFxyXG4gICAgfVxyXG4gICAgZWxzZSBpZihkYXRhLmRlc2NyaXB0aW9uID09IFwiXCIpe1xyXG4gICAgICBNeVN3YWwuZmlyZSh7XHJcbiAgICAgICAgaWNvbjogJ2Vycm9yJyxcclxuICAgICAgICAvL3RpdGxlOiAnT29wcy4uLicsXHJcbiAgICAgICAgdGV4dDogJ+C4geC4o+C4uOC4k+C4suC4geC4o+C4reC4geC4o+C4suC4ouC4peC4sOC5gOC4reC4teC4ouC4lOC4o+C5ieC4suC4mScsXHJcbiAgICAgICAgLy9mb290ZXI6ICc8YSBocmVmPldoeSBkbyBJIGhhdmUgdGhpcyBpc3N1ZT88L2E+J1xyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbiAgICBldmVudC50YXJnZXQuZGlzYWJsZWQ9dHJ1ZTtcclxuICAgIGNvbnN0IGZpbGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFtuYW1lPSdpbWFnZSddXCIpO1xyXG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuXHRcdFxyXG4gICAgZm9ybURhdGEuYXBwZW5kKCdkYXRhJywgSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICBuYW1lOiBkYXRhLm5hbWVzaG9wLFxyXG4gICAgICBkZXNjcmlwdGlvbjogZGF0YS5kZXNjcmlwdGlvbixcclxuICAgIH0pKTtcclxuICAgIGlmIChmaWxlSW5wdXQuZmlsZXNbMF0pIHtcclxuICAgICAgZm9ybURhdGEuYXBwZW5kKGBmaWxlcy5pbWFnZWAsIGZpbGVJbnB1dC5maWxlc1swXSwgZmlsZUlucHV0LmZpbGVzWzBdLm5hbWUpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMfS9yZXN0YXVyYW50c2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgLy9oZWFkZXJzOiB1c2VyVG9rZW4gJiYgeyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dXNlclRva2VufWAgfSxcclxuICAgICAgLy9oZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30sXHJcbiAgICAgIC8vaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YSd9LFxyXG4gICAgICAvL2hlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9LFxyXG5cclxuICAgICAgLypib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lc2hvcCxcclxuICAgICAgICBkZXNjcmlwdGlvbjogZGF0YS5kZXNjcmlwdGlvbixcclxuICAgICAgICBhbW91bnQ6IE51bWJlcihNYXRoLnJvdW5kKGFwcENvbnRleHQuY2FydC50b3RhbCArIFwiZTJcIikgKyBcImUtMlwiKSxcclxuICAgICAgICBkaXNoZXM6IGFwcENvbnRleHQuY2FydC5pdGVtcyxcclxuICAgICAgICBhZGRyZXNzOiBkYXRhLmFkZHJlc3MsXHJcbiAgICAgICAgY2l0eTogZGF0YS5jaXR5LFxyXG4gICAgICAgIHN0YXRlOiBkYXRhLnN0YXRlLFxyXG4gICAgICAgIHRva2VuOiB0b2tlbi50b2tlbi5pZCxcclxuICAgICAgfSksKi9cclxuICAgICAgXHJcbiAgICAgIGJvZHk6IGZvcm1EYXRhXHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICBzZXRFcnJvcihyZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgIE15U3dhbC5maXJlKHtcclxuICAgICAgICBpY29uOiAnc3VjY2VzcycsXHJcbiAgICAgICAgdGV4dDogJ+C5gOC4nuC4tOC5iOC4oeC4guC5ieC4reC4oeC4ueC4peC4o+C5ieC4suC4meC5gOC4o+C4teC4ouC4muC4o+C5ieC4reC4oicsXHJcbiAgICAgICAgYWxsb3dPdXRzaWRlQ2xpY2s6IGZhbHNlXHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBSb3V0ZXIucHVzaChcIi9cIik7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIE9USEVSIHN0cmlwZSBtZXRob2RzIHlvdSBjYW4gdXNlIGRlcGVuZGluZyBvbiBhcHBcclxuICAgIC8vIC8vIG9yIGNyZWF0ZVBheW1lbnRNZXRob2QgLSBodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9wYXltZW50X2ludGVudHMvY3JlYXRlX3BheW1lbnRfbWV0aG9kXHJcbiAgICAvLyBzdHJpcGUuY3JlYXRlUGF5bWVudE1ldGhvZCh7XHJcbiAgICAvLyAgIHR5cGU6IFwiY2FyZFwiLFxyXG4gICAgLy8gICBjYXJkOiBjYXJkRWxlbWVudCxcclxuICAgIC8vIH0pO1xyXG5cclxuICAgIC8vIC8vIG9yIGNvbmZpcm1DYXJkUGF5bWVudCAtIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL3BheW1lbnRfaW50ZW50cy9jb25maXJtX2NhcmRfcGF5bWVudFxyXG4gICAgLy8gc3RyaXBlLmNvbmZpcm1DYXJkUGF5bWVudChwYXltZW50SW50ZW50Q2xpZW50U2VjcmV0LCB7XHJcbiAgICAvLyAgIHBheW1lbnRfbWV0aG9kOiB7XHJcbiAgICAvLyAgICAgY2FyZDogY2FyZEVsZW1lbnQsXHJcbiAgICAvLyAgIH0sXHJcbiAgICAvLyB9KTtcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhcGVyXCI+XHJcblxyXG4gICAgICA8aDU+4Lij4Liy4Lii4Lil4Liw4LmA4Lit4Li14Lii4LiU4Lij4LmJ4Liy4LiZIDo8L2g1PlxyXG4gICAgICA8aHIgLz5cclxuICAgICAgPEZvcm1Hcm91cCBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiB9fT5cclxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGZsZXg6IFwiMC45MFwiLCBtYXJnaW5SaWdodDogMTAgfX0+XHJcbiAgICAgICAgICA8TGFiZWw+4LiK4Li34LmI4Lit4Lij4LmJ4Liy4LiZPC9MYWJlbD5cclxuICAgICAgICAgIDxJbnB1dCBzdHlsZT17e3dpZHRoOiAyMDB9fSBuYW1lPVwibmFtZXNob3BcIiBvbkNoYW5nZT17b25DaGFuZ2V9IC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvRm9ybUdyb3VwPlxyXG4gICAgICA8Rm9ybUdyb3VwIHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiIH19PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgZmxleDogXCIwLjY1XCIsIG1hcmdpblJpZ2h0OiBcIjYlXCIgfX0+XHJcbiAgICAgICAgICA8TGFiZWw+4Lig4Liy4LiePC9MYWJlbD5cclxuXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3VzdG9tLWZpbGVcIj5cclxuICAgICAgICAgIDxJbnB1dCB0eXBlPVwiZmlsZVwiIG5hbWU9XCJpbWFnZVwiIG9uQ2hhbmdlPXtvbkNoYW5nZUZ9IGNsYXNzPVwiY3VzdG9tLWZpbGUtaW5wdXRcIiBpZD1cInZhbGlkYXRlZEN1c3RvbUZpbGVcIiByZXF1aXJlZCAvPlxyXG4gICAgICAgICAgPGxhYmVsIGlkPVwiZmlsZS1uYW1lXCIgY2xhc3M9XCJjdXN0b20tZmlsZS1sYWJlbFwiIGZvcj1cInZhbGlkYXRlZEN1c3RvbUZpbGVcIj7guYDguKXguLfguK3guIHguKPguLnguJvguKDguLLguJ4uLi48L2xhYmVsPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImludmFsaWQtZmVlZGJhY2tcIj5FeGFtcGxlIGludmFsaWQgY3VzdG9tIGZpbGUgZmVlZGJhY2s8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBzdHlsZT17e21hcmdpblRvcDogNX19PlxyXG4gICAgICAgICAge3NlbGVjdGVkRmlsZSAmJiAgPGltZyBzdHlsZT17e3dpZHRoOiBcIjEwMCVcIn19IHNyYz17cHJldmlld30gLz4gfSAgICAgXHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9Gb3JtR3JvdXA+XHJcbiAgICAgIDxGb3JtR3JvdXAgc3R5bGU9e3sgZGlzcGxheTogXCJmbGV4XCIgfX0+XHJcbiAgICAgICAgPGRpdiBzdHlsZT17eyBmbGV4OiBcIjAuNjVcIiwgbWFyZ2luUmlnaHQ6IFwiNiVcIiB9fT5cclxuICAgICAgICAgIDxMYWJlbD7guKPguLLguKLguKXguLDguYDguK3guLXguKLguJQ8L0xhYmVsPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjayBjay10b29sYmFyLWRyb3Bkb3duIGNrLXRvb2xiYXIgY2stdG9vbGJhcl9faXRlbXNcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2stZWRpdG9yX19lZGl0YWJsZVwiPlxyXG4gICAgICAgICAgPENrZWRpdG9yIG9uQ2hhbmdlPXsodik9PiB7ZGF0YVsnZGVzY3JpcHRpb24nXSA9IHY7fX0gLz5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L0Zvcm1Hcm91cD5cclxuICAgICAgXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3JkZXItYnV0dG9uLXdyYXBwZXJcIj5cclxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3N1Ym1pdEFkZFJlc3RhdXJhbnR9PlxyXG4gICAgICAgICAge2xvYWRpbmcgPyBcIkxvYWRpbmcuLi4gXCIgOiBcIuC5gOC4nuC4tOC5iOC4oeC4o+C5ieC4suC4meC4hOC5ieC4slwifVxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPHN0eWxlIGpzeCBnbG9iYWw+XHJcbiAgICAgICAge2BcclxuICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogMzUwcHgpIHtcclxuICAgICAgICAgICAgLmNrLmNrLXRvb2xiYXItZHJvcGRvd24gLmNrLmNrLXRvb2xiYXIgLmNrLmNrLXRvb2xiYXJfX2l0ZW1zXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XHJcbiAgICAgICAgICAgICAgbWluLXdpZHRoOiA3MHZ3O1xyXG4gICAgICAgICAgICB9ICBcclxuICAgICAgICB9IFxyXG4gICAgICAgIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzY4cHgpIHtcclxuICAgICAgICAgIC5jay1lZGl0b3JfX2VkaXRhYmxlXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDMwMHB4O1xyXG4gICAgICAgICAgICB3aWR0aDoyNzBweDtcclxuICAgICAgICAgIH0gIFxyXG4gICAgICAgIH1cclxuICAgICAgICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSB7XHJcbiAgICAgICAgICAuY2stZWRpdG9yX19lZGl0YWJsZVxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDQwMHB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gIFxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgIC5wYXBlciB7XHJcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGxpZ2h0Z3JheTtcclxuICAgICAgICAgICAgYm94LXNoYWRvdzogMHB4IDFweCAzcHggMHB4IHJnYmEoMCwgMCwgMCwgMC4yKSxcclxuICAgICAgICAgICAgICAwcHggMXB4IDFweCAwcHggcmdiYSgwLCAwLCAwLCAwLjE0KSxcclxuICAgICAgICAgICAgICAwcHggMnB4IDFweCAtMXB4IHJnYmEoMCwgMCwgMCwgMC4xMik7XHJcbiAgICAgICAgICAgIGhlaWdodDogYXV0bztcclxuICAgICAgICAgICAgcGFkZGluZzogMzBweDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogI2ZmZjtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xyXG4gICAgICAgICAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLmZvcm0taGFsZiB7XHJcbiAgICAgICAgICAgIGZsZXg6IDAuNTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgICoge1xyXG4gICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYm9keSxcclxuICAgICAgICAgIGh0bWwge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjZmOWZjO1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2EgTmV1ZSwgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGgxIHtcclxuICAgICAgICAgICAgY29sb3I6ICMzMjMyNWQ7XHJcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7XHJcbiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiA1MHB4O1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDQwcHg7XHJcbiAgICAgICAgICAgIG1hcmdpbjogMjBweCAwO1xyXG4gICAgICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLkNoZWNrb3V0IHtcclxuICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICAgICAgICAgIG1heC13aWR0aDogODAwcHg7XHJcbiAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDAgNXB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgbGFiZWwge1xyXG4gICAgICAgICAgICBjb2xvcjogIzZiN2M5MztcclxuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDMwMDtcclxuICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuMDI1ZW07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBidXR0b24ge1xyXG4gICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG4gICAgICAgICAgICBib3JkZXI6IDA7XHJcbiAgICAgICAgICAgIG91dGxpbmU6IDA7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICAgICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgICAgICAgICBsaW5lLWhlaWdodDogNDBweDtcclxuICAgICAgICAgICAgcGFkZGluZzogMCAxNHB4O1xyXG4gICAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCA2cHggcmdiYSg1MCwgNTAsIDkzLCAwLjExKSxcclxuICAgICAgICAgICAgICAwIDFweCAzcHggcmdiYSgwLCAwLCAwLCAwLjA4KTtcclxuICAgICAgICAgICAgY29sb3I6ICNmZmY7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxNXB4O1xyXG4gICAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gICAgICAgICAgICBsZXR0ZXItc3BhY2luZzogMC4wMjVlbTtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzY3NzJlNTtcclxuICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gICAgICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246IGFsbCAxNTBtcyBlYXNlO1xyXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMTUwbXMgZWFzZTtcclxuICAgICAgICAgICAgbWFyZ2luLXRvcDogMTBweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGZvcm0ge1xyXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA0MHB4O1xyXG4gICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogNDBweDtcclxuICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogM3B4IHNvbGlkICNlNmViZjE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBidXR0b246aG92ZXIge1xyXG4gICAgICAgICAgICBjb2xvcjogI2ZmZjtcclxuICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNzc5NWY4O1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTFweCk7XHJcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgN3B4IDE0cHggcmdiYSg1MCwgNTAsIDkzLCAwLjEpLFxyXG4gICAgICAgICAgICAgIDAgM3B4IDZweCByZ2JhKDAsIDAsIDAsIDAuMDgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGV4dGFyZWEge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYSAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgICBtYXJnaW46IDEwcHggMCAyMHB4IDA7XHJcbiAgICAgICAgICAgIG1heC13aWR0aDogNTAwcHg7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMTRweDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxZW07XHJcbiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBcIlNvdXJjZSBDb2RlIFByb1wiLCBtb25vc3BhY2U7XHJcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IHJnYmEoNTAsIDUwLCA5MywgMC4xNDkwMikgMHB4IDFweCAzcHgsXHJcbiAgICAgICAgICAgICAgcmdiYSgwLCAwLCAwLCAwLjAxOTYwNzgpIDBweCAxcHggMHB4O1xyXG4gICAgICAgICAgICBib3JkZXI6IDA7XHJcbiAgICAgICAgICAgIG91dGxpbmU6IDA7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICAgICAgICAgIHdpZHRoOiA0NDBweDtcclxuICAgICAgICAgICAgcmVzaXplOiB2ZXJ0aWNhbDtcclxuICAgICAgICAgICAgb3ZlcmZsb3c6IGF1dG87XHJcbiAgICAgICAgICAgIGhlaWdodDoxMjBweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlucHV0LFxyXG4gICAgICAgICAgLlN0cmlwZUVsZW1lbnQge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYSAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgICBtYXJnaW46IDEwcHggMCAyMHB4IDA7XHJcbiAgICAgICAgICAgIG1heC13aWR0aDogNTAwcHg7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMTRweDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxZW07XHJcbiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBcIlNvdXJjZSBDb2RlIFByb1wiLCBtb25vc3BhY2U7XHJcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IHJnYmEoNTAsIDUwLCA5MywgMC4xNDkwMikgMHB4IDFweCAzcHgsXHJcbiAgICAgICAgICAgICAgcmdiYSgwLCAwLCAwLCAwLjAxOTYwNzgpIDBweCAxcHggMHB4O1xyXG4gICAgICAgICAgICBib3JkZXI6IDA7XHJcbiAgICAgICAgICAgIG91dGxpbmU6IDA7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpbnB1dDo6cGxhY2Vob2xkZXIge1xyXG4gICAgICAgICAgICBjb2xvcjogI2FhYjdjNDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlucHV0OmZvY3VzLFxyXG4gICAgICAgICAgLlN0cmlwZUVsZW1lbnQtLWZvY3VzIHtcclxuICAgICAgICAgICAgYm94LXNoYWRvdzogcmdiYSg1MCwgNTAsIDkzLCAwLjEwOTgwNCkgMHB4IDRweCA2cHgsXHJcbiAgICAgICAgICAgICAgcmdiYSgwLCAwLCAwLCAwLjA3ODQzMTQpIDBweCAxcHggM3B4O1xyXG4gICAgICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246IGFsbCAxNTBtcyBlYXNlO1xyXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMTUwbXMgZWFzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5TdHJpcGVFbGVtZW50LklkZWFsQmFua0VsZW1lbnQsXHJcbiAgICAgICAgICAuU3RyaXBlRWxlbWVudC5QYXltZW50UmVxdWVzdEJ1dHRvbiB7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgYH1cclxuICAgICAgPC9zdHlsZT5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgQWRkUmVzRm9ybTsiXX0= */\\n/*@ sourceURL=C:\\\\\\\\xampp\\\\\\\\htdocs\\\\\\\\next-react-hooks-strapi-food-delivery\\\\\\\\frontend\\\\\\\\components\\\\\\\\RestaurantList\\\\\\\\AddResForm.js */\"));\n}\n\nexport default AddResForm;","map":{"version":3,"sources":["C:/xampp/htdocs/next-react-hooks-strapi-food-delivery/frontend/components/RestaurantList/AddResForm.js"],"names":["React","useState","useContext","useEffect","FormGroup","Label","Input","fetch","AppContext","dynamic","$","Swal","withReactContent","Router","Ckeditor","ssr","MySwal","AddResForm","data","setData","nameshop","description","error","setError","appContext","selectedFile","setSelectedFile","preview","setPreview","loading","setLoading","undefined","objectUrl","URL","createObjectURL","revokeObjectURL","change","alert","onChange","e","updateItem","target","name","value","onChangeF","document","querySelector","textContent","files","length","submitAddRestaurant","event","preventDefault","fire","icon","text","onAfterClose","setTimeout","focus","disabled","fileInput","formData","FormData","append","JSON","stringify","response","process","env","NEXT_PUBLIC_API_URL","method","body","ok","statusText","allowOutsideClick","then","push","display","flex","marginRight","width","marginTop","v"],"mappings":"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","sourcesContent":["/* /components/Checkout/CheckoutForm.js */\r\n\r\nimport React, { useState, useContext, useEffect } from \"react\";\r\n\r\nimport { FormGroup, Label, Input } from \"reactstrap\";\r\n\r\nimport fetch from \"isomorphic-fetch\";\r\n//import Cookies from \"js-cookie\";\r\n//import { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\r\n\r\n//import CardSection from \"./CardSection\";\r\nimport AppContext from \"../../context/AppContext\";\r\n//import Ckeditor from \"../ckeditor/Ckeditor\";\r\n//import Compotest from \"../ckeditor/Compotest\";\r\nimport dynamic from 'next/dynamic';\r\n\r\nimport $ from \"jquery\";\r\n\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\nimport Router from \"next/router\";\r\n\r\nconst Ckeditor = dynamic(() => import('../ckeditor/Ckeditor'), { ssr: false })\r\n\r\nconst MySwal = withReactContent(Swal);\r\n\r\nfunction AddResForm() {\r\n  const [data, setData] = useState({\r\n    nameshop: \"\",\r\n    description: \"\",\r\n  });\r\n  const [error, setError] = useState(\"\");\r\n  //const stripe = useStripe();\r\n  //const elements = useElements();\r\n  const appContext = useContext(AppContext);\r\n\r\n  const [selectedFile, setSelectedFile] = useState()\r\n  const [preview, setPreview] = useState()\r\n  const [loading, setLoading] = useState(false)\r\n\r\n    // create a preview as a side effect, whenever selected file is changed\r\n    useEffect(() => {\r\n        if (!selectedFile) {\r\n            setPreview(undefined)\r\n            return\r\n        }\r\n\r\n        const objectUrl = URL.createObjectURL(selectedFile)\r\n        setPreview(objectUrl)\r\n\r\n        // free memory when ever this component is unmounted\r\n        return () => URL.revokeObjectURL(objectUrl)\r\n\r\n    }, [selectedFile])\r\n\r\n    useEffect(() => {\r\n      $(\".nameshop\").change(function() {\r\n        alert( \"test\" );\r\n      });\r\n    }, [])\r\n\r\n  function onChange(e) {\r\n    //alert(data.description)\r\n    // set the key = to the name property equal to the value typed\r\n    const updateItem = (data[e.target.name] = e.target.value);\r\n    // update the state data object\r\n    setData({ ...data, updateItem });\r\n\r\n    /*MySwal.fire({\r\n      title: <p>Hello World</p>,\r\n      footer: 'Copyright 2018',\r\n      didOpen: () => {\r\n        // `MySwal` is a subclass of `Swal`\r\n        //   with all the same instance & static methods\r\n        MySwal.clickConfirm()\r\n      }\r\n    })\r\n    .then(() => {\r\n      return MySwal.fire(<p>Shorthand works too</p>)\r\n    })*/\r\n    \r\n  }\r\n\r\n  //document.querySelector(\"#validatedCustomFile\").onchange = function(){\r\n    function onChangeF(e) {\r\n      document.querySelector(\"#file-name\").textContent = e.target.files[0].name;\r\n      if (!e.target.files || e.target.files.length === 0) {\r\n        setSelectedFile(undefined)\r\n        return\r\n      }\r\n      // I've kept this example simple by using the first image instead of multiple\r\n      setSelectedFile(e.target.files[0])\r\n    }\r\n  //}\r\n\r\n  async function submitAddRestaurant(event) {\r\n      //alert(data.description);\r\n      event.preventDefault();\r\n\r\n    // // Use elements.getElement to get a reference to the mounted Element.\r\n    //const cardElement = elements.getElement(CardElement);\r\n\r\n    // // Pass the Element directly to other Stripe.js methods:\r\n    // // e.g. createToken - https://stripe.com/docs/js/tokens_sources/create_token?type=cardElement\r\n    // get token back from stripe to process credit card\r\n    //const token = await stripe.createToken(cardElement);\r\n    //const userToken = Cookies.get(\"token\");\r\n    if(data.nameshop == \"\"){\r\n      \r\n      MySwal.fire({\r\n      icon: 'error',\r\n      //title: 'Oops...',\r\n      text: 'กรุณากรอกชื่อร้าน',\r\n      onAfterClose: () => {\r\n        setTimeout(() => document.querySelector(\"input[name='nameshop']\").focus(), 110);\r\n      }\r\n      //footer: '<a href>Why do I have this issue?</a>'\r\n      })\r\n      \r\n    }\r\n    else if(data.description == \"\"){\r\n      MySwal.fire({\r\n        icon: 'error',\r\n        //title: 'Oops...',\r\n        text: 'กรุณากรอกรายละเอียดร้าน',\r\n        //footer: '<a href>Why do I have this issue?</a>'\r\n      })\r\n    }\r\n    else{\r\n    setLoading(true);\r\n    event.target.disabled=true;\r\n    const fileInput = document.querySelector(\"input[name='image']\");\r\n    const formData = new FormData();\r\n\t\t\r\n    formData.append('data', JSON.stringify({\r\n      name: data.nameshop,\r\n      description: data.description,\r\n    }));\r\n    if (fileInput.files[0]) {\r\n      formData.append(`files.image`, fileInput.files[0], fileInput.files[0].name);\r\n    }\r\n    const response = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/restaurants`, {\r\n      method: \"POST\",\r\n      //headers: userToken && { Authorization: `Bearer ${userToken}` },\r\n      //headers: {'Content-Type': 'application/json'},\r\n      //headers: {'Content-Type': 'multipart/form-data'},\r\n      //headers: {'Content-Type': 'application/x-www-form-urlencoded'},\r\n\r\n      /*body: JSON.stringify({\r\n        name: data.nameshop,\r\n        description: data.description,\r\n        amount: Number(Math.round(appContext.cart.total + \"e2\") + \"e-2\"),\r\n        dishes: appContext.cart.items,\r\n        address: data.address,\r\n        city: data.city,\r\n        state: data.state,\r\n        token: token.token.id,\r\n      }),*/\r\n      \r\n      body: formData\r\n\r\n    });\r\n\r\n    if (!response.ok) {\r\n      setError(response.statusText);\r\n    }\r\n    else{\r\n      MySwal.fire({\r\n        icon: 'success',\r\n        text: 'เพิ่มข้อมูลร้านเรียบร้อย',\r\n        allowOutsideClick: false\r\n      })\r\n      .then(() => {\r\n        Router.push(\"/\");\r\n      });\r\n    }\r\n    \r\n\r\n    }\r\n\r\n    // OTHER stripe methods you can use depending on app\r\n    // // or createPaymentMethod - https://stripe.com/docs/js/payment_intents/create_payment_method\r\n    // stripe.createPaymentMethod({\r\n    //   type: \"card\",\r\n    //   card: cardElement,\r\n    // });\r\n\r\n    // // or confirmCardPayment - https://stripe.com/docs/js/payment_intents/confirm_card_payment\r\n    // stripe.confirmCardPayment(paymentIntentClientSecret, {\r\n    //   payment_method: {\r\n    //     card: cardElement,\r\n    //   },\r\n    // });\r\n  }\r\n\r\n  return (\r\n    <div className=\"paper\">\r\n\r\n      <h5>รายละเอียดร้าน :</h5>\r\n      <hr />\r\n      <FormGroup style={{ display: \"flex\" }}>\r\n        <div style={{ flex: \"0.90\", marginRight: 10 }}>\r\n          <Label>ชื่อร้าน</Label>\r\n          <Input style={{width: 200}} name=\"nameshop\" onChange={onChange} />\r\n        </div>\r\n      </FormGroup>\r\n      <FormGroup style={{ display: \"flex\" }}>\r\n        <div style={{ flex: \"0.65\", marginRight: \"6%\" }}>\r\n          <Label>ภาพ</Label>\r\n\r\n          <div class=\"custom-file\">\r\n          <Input type=\"file\" name=\"image\" onChange={onChangeF} class=\"custom-file-input\" id=\"validatedCustomFile\" required />\r\n          <label id=\"file-name\" class=\"custom-file-label\" for=\"validatedCustomFile\">เลือกรูปภาพ...</label>\r\n          <div class=\"invalid-feedback\">Example invalid custom file feedback</div>\r\n          </div>\r\n          <div style={{marginTop: 5}}>\r\n          {selectedFile &&  <img style={{width: \"100%\"}} src={preview} /> }     \r\n          </div>\r\n        </div>\r\n      </FormGroup>\r\n      <FormGroup style={{ display: \"flex\" }}>\r\n        <div style={{ flex: \"0.65\", marginRight: \"6%\" }}>\r\n          <Label>รายละเอียด</Label>\r\n          <div className=\"ck ck-toolbar-dropdown ck-toolbar ck-toolbar__items\">\r\n          <div className=\"ck-editor__editable\">\r\n          <Ckeditor onChange={(v)=> {data['description'] = v;}} />\r\n            \r\n          </div>\r\n          </div>\r\n        </div>\r\n      </FormGroup>\r\n      \r\n      <div className=\"order-button-wrapper\">\r\n        <button onClick={submitAddRestaurant}>\r\n          {loading ? \"Loading... \" : \"เพิ่มร้านค้า\"}\r\n        </button>\r\n      </div>\r\n      <style jsx global>\r\n        {`\r\n        @media (max-width: 350px) {\r\n            .ck.ck-toolbar-dropdown .ck.ck-toolbar .ck.ck-toolbar__items\r\n            {\r\n              flex-wrap: wrap;\r\n              min-width: 70vw;\r\n            }  \r\n        } \r\n        @media only screen and (max-width: 768px) {\r\n          .ck-editor__editable\r\n          {\r\n            min-height: 300px;\r\n            width:270px;\r\n          }  \r\n        }\r\n        @media only screen and (min-width: 768px) {\r\n          .ck-editor__editable\r\n          {\r\n              min-height: 400px;\r\n          }\r\n        }  \r\n            \r\n          .paper {\r\n            border: 1px solid lightgray;\r\n            box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n              0px 1px 1px 0px rgba(0, 0, 0, 0.14),\r\n              0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n            height: auto;\r\n            padding: 30px;\r\n            background: #fff;\r\n            border-radius: 6px;\r\n            margin-top: 10px;\r\n            margin-bottom: 10px;\r\n          }\r\n          .form-half {\r\n            flex: 0.5;\r\n          }\r\n          * {\r\n            box-sizing: border-box;\r\n          }\r\n          body,\r\n          html {\r\n            background-color: #f6f9fc;\r\n            font-size: 18px;\r\n            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\r\n          }\r\n          h1 {\r\n            color: #32325d;\r\n            font-weight: 400;\r\n            line-height: 50px;\r\n            font-size: 40px;\r\n            margin: 20px 0;\r\n            padding: 0;\r\n          }\r\n          .Checkout {\r\n            margin: 0 auto;\r\n            max-width: 800px;\r\n            box-sizing: border-box;\r\n            padding: 0 5px;\r\n          }\r\n          label {\r\n            color: #6b7c93;\r\n            font-weight: 300;\r\n            letter-spacing: 0.025em;\r\n          }\r\n          button {\r\n            white-space: nowrap;\r\n            border: 0;\r\n            outline: 0;\r\n            display: inline-block;\r\n            height: 40px;\r\n            line-height: 40px;\r\n            padding: 0 14px;\r\n            box-shadow: 0 4px 6px rgba(50, 50, 93, 0.11),\r\n              0 1px 3px rgba(0, 0, 0, 0.08);\r\n            color: #fff;\r\n            border-radius: 4px;\r\n            font-size: 15px;\r\n            font-weight: 600;\r\n            text-transform: uppercase;\r\n            letter-spacing: 0.025em;\r\n            background-color: #6772e5;\r\n            text-decoration: none;\r\n            -webkit-transition: all 150ms ease;\r\n            transition: all 150ms ease;\r\n            margin-top: 10px;\r\n          }\r\n          form {\r\n            margin-bottom: 40px;\r\n            padding-bottom: 40px;\r\n            border-bottom: 3px solid #e6ebf1;\r\n          }\r\n          button:hover {\r\n            color: #fff;\r\n            cursor: pointer;\r\n            background-color: #7795f8;\r\n            transform: translateY(-1px);\r\n            box-shadow: 0 7px 14px rgba(50, 50, 93, 0.1),\r\n              0 3px 6px rgba(0, 0, 0, 0.08);\r\n          }\r\n          textarea {\r\n            display: block;\r\n            background-color: #f8f9fa !important;\r\n            margin: 10px 0 20px 0;\r\n            max-width: 500px;\r\n            padding: 10px 14px;\r\n            font-size: 1em;\r\n            font-family: \"Source Code Pro\", monospace;\r\n            box-shadow: rgba(50, 50, 93, 0.14902) 0px 1px 3px,\r\n              rgba(0, 0, 0, 0.0196078) 0px 1px 0px;\r\n            border: 0;\r\n            outline: 0;\r\n            border-radius: 4px;\r\n            background: white;\r\n            width: 440px;\r\n            resize: vertical;\r\n            overflow: auto;\r\n            height:120px;\r\n          }\r\n          input,\r\n          .StripeElement {\r\n            display: block;\r\n            background-color: #f8f9fa !important;\r\n            margin: 10px 0 20px 0;\r\n            max-width: 500px;\r\n            padding: 10px 14px;\r\n            font-size: 1em;\r\n            font-family: \"Source Code Pro\", monospace;\r\n            box-shadow: rgba(50, 50, 93, 0.14902) 0px 1px 3px,\r\n              rgba(0, 0, 0, 0.0196078) 0px 1px 0px;\r\n            border: 0;\r\n            outline: 0;\r\n            border-radius: 4px;\r\n            background: white;\r\n          }\r\n          input::placeholder {\r\n            color: #aab7c4;\r\n          }\r\n          input:focus,\r\n          .StripeElement--focus {\r\n            box-shadow: rgba(50, 50, 93, 0.109804) 0px 4px 6px,\r\n              rgba(0, 0, 0, 0.0784314) 0px 1px 3px;\r\n            -webkit-transition: all 150ms ease;\r\n            transition: all 150ms ease;\r\n          }\r\n          .StripeElement.IdealBankElement,\r\n          .StripeElement.PaymentRequestButton {\r\n            padding: 0;\r\n          }\r\n        `}\r\n      </style>\r\n    </div>\r\n  );\r\n}\r\nexport default AddResForm;"]},"metadata":{},"sourceType":"module"}