{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\next-react-hooks-strapi-food-delivery\\\\frontend\\\\components\\\\RestaurantList\\\\AddResForm.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/* /components/Checkout/CheckoutForm.js */\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { FormGroup, Label, Input } from \"reactstrap\";\nimport fetch from \"isomorphic-fetch\"; //import Cookies from \"js-cookie\";\n//import { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\n//import CardSection from \"./CardSection\";\n\nimport AppContext from \"../../context/AppContext\"; //import Ckeditor from \"../ckeditor/Ckeditor\";\n//import Compotest from \"../ckeditor/Compotest\";\n\nimport dynamic from 'next/dynamic';\nimport $ from \"jquery\";\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\nimport Router from \"next/router\";\nconst Ckeditor = dynamic(() => import('../ckeditor/Ckeditor'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('../ckeditor/Ckeditor')],\n    modules: ['../ckeditor/Ckeditor']\n  }\n});\nconst MySwal = withReactContent(Swal);\n\nfunction AddResForm() {\n  const {\n    0: data,\n    1: setData\n  } = useState({\n    nameshop: \"\",\n    description: \"\"\n  });\n  const {\n    0: error,\n    1: setError\n  } = useState(\"\"); //const stripe = useStripe();\n  //const elements = useElements();\n\n  const appContext = useContext(AppContext);\n  const {\n    0: selectedFile,\n    1: setSelectedFile\n  } = useState();\n  const {\n    0: preview,\n    1: setPreview\n  } = useState();\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false); // create a preview as a side effect, whenever selected file is changed\n\n  useEffect(() => {\n    if (!selectedFile) {\n      setPreview(undefined);\n      return;\n    }\n\n    const objectUrl = URL.createObjectURL(selectedFile);\n    setPreview(objectUrl); // free memory when ever this component is unmounted\n\n    return () => URL.revokeObjectURL(objectUrl);\n  }, [selectedFile]);\n  useEffect(() => {\n    $(\".nameshop\").change(function () {\n      alert(\"test\");\n    });\n  }, []);\n\n  function onChange(e) {\n    //alert(data.description)\n    // set the key = to the name property equal to the value typed\n    const updateItem = data[e.target.name] = e.target.value; // update the state data object\n\n    setData(_objectSpread(_objectSpread({}, data), {}, {\n      updateItem\n    }));\n    /*MySwal.fire({\r\n      title: <p>Hello World</p>,\r\n      footer: 'Copyright 2018',\r\n      didOpen: () => {\r\n        // `MySwal` is a subclass of `Swal`\r\n        //   with all the same instance & static methods\r\n        MySwal.clickConfirm()\r\n      }\r\n    })\r\n    .then(() => {\r\n      return MySwal.fire(<p>Shorthand works too</p>)\r\n    })*/\n  } //document.querySelector(\"#validatedCustomFile\").onchange = function(){\n\n\n  function onChangeF(e) {\n    document.querySelector(\"#file-name\").textContent = e.target.files[0].name;\n\n    if (!e.target.files || e.target.files.length === 0) {\n      setSelectedFile(undefined);\n      return;\n    } // I've kept this example simple by using the first image instead of multiple\n\n\n    setSelectedFile(e.target.files[0]);\n  } //}\n\n\n  async function submitAddRestaurant(event) {\n    //alert(data.description);\n    event.preventDefault(); // // Use elements.getElement to get a reference to the mounted Element.\n    //const cardElement = elements.getElement(CardElement);\n    // // Pass the Element directly to other Stripe.js methods:\n    // // e.g. createToken - https://stripe.com/docs/js/tokens_sources/create_token?type=cardElement\n    // get token back from stripe to process credit card\n    //const token = await stripe.createToken(cardElement);\n    //const userToken = Cookies.get(\"token\");\n\n    if (data.nameshop == \"\") {\n      MySwal.fire({\n        icon: 'error',\n        //title: 'Oops...',\n        text: 'กรุณากรอกชื่อร้าน',\n        onAfterClose: () => {\n          setTimeout(() => document.querySelector(\"input[name='nameshop']\").focus(), 110);\n        } //footer: '<a href>Why do I have this issue?</a>'\n\n      });\n    } else if (data.description == \"\") {\n      MySwal.fire({\n        icon: 'error',\n        //title: 'Oops...',\n        text: 'กรุณากรอกรายละเอียดร้าน' //footer: '<a href>Why do I have this issue?</a>'\n\n      });\n    } else {\n      setLoading(true);\n      event.target.disabled = true;\n      const fileInput = document.querySelector(\"input[name='image']\");\n      const formData = new FormData();\n      formData.append('data', JSON.stringify({\n        name: data.nameshop,\n        description: data.description\n      }));\n\n      if (fileInput.files[0]) {\n        formData.append(`files.image`, fileInput.files[0], fileInput.files[0].name);\n      }\n\n      const response = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/restaurants`, {\n        method: \"POST\",\n        //headers: userToken && { Authorization: `Bearer ${userToken}` },\n        //headers: {'Content-Type': 'application/json'},\n        //headers: {'Content-Type': 'multipart/form-data'},\n        //headers: {'Content-Type': 'application/x-www-form-urlencoded'},\n\n        /*body: JSON.stringify({\r\n          name: data.nameshop,\r\n          description: data.description,\r\n          amount: Number(Math.round(appContext.cart.total + \"e2\") + \"e-2\"),\r\n          dishes: appContext.cart.items,\r\n          address: data.address,\r\n          city: data.city,\r\n          state: data.state,\r\n          token: token.token.id,\r\n        }),*/\n        body: formData\n      });\n\n      if (!response.ok) {\n        setError(response.statusText);\n      } else {\n        MySwal.fire({\n          icon: 'success',\n          text: 'เพิ่มข้อมูลร้านเรียบร้อย',\n          allowOutsideClick: false\n        }).then(() => {\n          Router.push(\"/\");\n        });\n      }\n    } // OTHER stripe methods you can use depending on app\n    // // or createPaymentMethod - https://stripe.com/docs/js/payment_intents/create_payment_method\n    // stripe.createPaymentMethod({\n    //   type: \"card\",\n    //   card: cardElement,\n    // });\n    // // or confirmCardPayment - https://stripe.com/docs/js/payment_intents/confirm_card_payment\n    // stripe.confirmCardPayment(paymentIntentClientSecret, {\n    //   payment_method: {\n    //     card: cardElement,\n    //   },\n    // });\n\n  }\n\n  return __jsx(\"div\", {\n    className: \"jsx-3110619047\" + \" \" + \"paper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 5\n    }\n  }, __jsx(\"h5\", {\n    className: \"jsx-3110619047\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }\n  }, \"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\\u0E23\\u0E49\\u0E32\\u0E19 :\"), __jsx(\"hr\", {\n    className: \"jsx-3110619047\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }\n  }), __jsx(FormGroup, {\n    style: {\n      display: \"flex\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    style: {\n      flex: \"0.90\",\n      marginRight: 10\n    },\n    className: \"jsx-3110619047\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }\n  }, __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 11\n    }\n  }, \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E23\\u0E49\\u0E32\\u0E19\"), __jsx(Input, {\n    style: {\n      width: 200\n    },\n    name: \"nameshop\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 11\n    }\n  }))), __jsx(FormGroup, {\n    style: {\n      display: \"flex\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    style: {\n      flex: \"0.65\",\n      marginRight: \"6%\"\n    },\n    className: \"jsx-3110619047\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }\n  }, __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 11\n    }\n  }, \"\\u0E20\\u0E32\\u0E1E\"), __jsx(\"div\", {\n    class: \"custom-file\",\n    className: \"jsx-3110619047\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 11\n    }\n  }, __jsx(Input, {\n    type: \"file\",\n    name: \"image\",\n    onChange: onChangeF,\n    class: \"custom-file-input\",\n    id: \"validatedCustomFile\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 11\n    }\n  }), __jsx(\"label\", {\n    id: \"file-name\",\n    class: \"custom-file-label\",\n    for: \"validatedCustomFile\",\n    className: \"jsx-3110619047\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 11\n    }\n  }, \"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E23\\u0E39\\u0E1B\\u0E20\\u0E32\\u0E1E...\"), __jsx(\"div\", {\n    class: \"invalid-feedback\",\n    className: \"jsx-3110619047\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 11\n    }\n  }, \"Example invalid custom file feedback\")), __jsx(\"div\", {\n    style: {\n      marginTop: 5\n    },\n    className: \"jsx-3110619047\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 11\n    }\n  }, selectedFile && __jsx(\"img\", {\n    style: {\n      width: \"100%\"\n    },\n    src: preview,\n    className: \"jsx-3110619047\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 29\n    }\n  })))), __jsx(FormGroup, {\n    style: {\n      display: \"flex\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    style: {\n      flex: \"0.65\",\n      marginRight: \"6%\"\n    },\n    className: \"jsx-3110619047\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 9\n    }\n  }, __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 11\n    }\n  }, \"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\"), __jsx(\"div\", {\n    className: \"jsx-3110619047\" + \" \" + \"ck ck-toolbar-dropdown ck-toolbar ck-toolbar__items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3110619047\" + \" \" + \"ck-editor__editable\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 11\n    }\n  }, __jsx(Ckeditor, {\n    onChange: v => {\n      data['description'] = v;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 11\n    }\n  }))))), __jsx(\"div\", {\n    className: \"jsx-3110619047\" + \" \" + \"order-button-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }\n  }, __jsx(\"button\", {\n    onClick: submitAddRestaurant,\n    className: \"jsx-3110619047\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 9\n    }\n  }, loading ? \"Loading... \" : \"เพิ่มร้านค้า\")), __jsx(_JSXStyle, {\n    id: \"3110619047\",\n    __self: this,\n    __source: void 0\n  }, \"@media (max-width:425px){.ck.ck-toolbar-dropdown .ck.ck-toolbar .ck.ck-toolbar__items{-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;min-width:70vw;}}.ck-editor__editable{min-height:400px;width:300px;}.paper{border:1px solid lightgray;box-shadow:0px 1px 3px 0px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 2px 1px -1px rgba(0,0,0,0.12);height:auto;padding:30px;background:#fff;border-radius:6px;margin-top:10px;margin-bottom:10px;}.form-half{-webkit-flex:0.5;-ms-flex:0.5;flex:0.5;}*{box-sizing:border-box;}body,html{background-color:#f6f9fc;font-size:18px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;}h1{color:#32325d;font-weight:400;line-height:50px;font-size:40px;margin:20px 0;padding:0;}.Checkout{margin:0 auto;max-width:800px;box-sizing:border-box;padding:0 5px;}label{color:#6b7c93;font-weight:300;-webkit-letter-spacing:0.025em;-moz-letter-spacing:0.025em;-ms-letter-spacing:0.025em;letter-spacing:0.025em;}button{white-space:nowrap;border:0;outline:0;display:inline-block;height:40px;line-height:40px;padding:0 14px;box-shadow:0 4px 6px rgba(50,50,93,0.11), 0 1px 3px rgba(0,0,0,0.08);color:#fff;border-radius:4px;font-size:15px;font-weight:600;text-transform:uppercase;-webkit-letter-spacing:0.025em;-moz-letter-spacing:0.025em;-ms-letter-spacing:0.025em;letter-spacing:0.025em;background-color:#6772e5;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:all 150ms ease;-webkit-transition:all 150ms ease;transition:all 150ms ease;margin-top:10px;}form{margin-bottom:40px;padding-bottom:40px;border-bottom:3px solid #e6ebf1;}button:hover{color:#fff;cursor:pointer;background-color:#7795f8;-webkit-transform:translateY(-1px);-ms-transform:translateY(-1px);transform:translateY(-1px);box-shadow:0 7px 14px rgba(50,50,93,0.1), 0 3px 6px rgba(0,0,0,0.08);}textarea{display:block;background-color:#f8f9fa !important;margin:10px 0 20px 0;max-width:500px;padding:10px 14px;font-size:1em;font-family:\\\"Source Code Pro\\\",monospace;box-shadow:rgba(50,50,93,0.14902) 0px 1px 3px, rgba(0,0,0,0.0196078) 0px 1px 0px;border:0;outline:0;border-radius:4px;background:white;width:440px;resize:vertical;overflow:auto;height:120px;}input,.StripeElement{display:block;background-color:#f8f9fa !important;margin:10px 0 20px 0;max-width:500px;padding:10px 14px;font-size:1em;font-family:\\\"Source Code Pro\\\",monospace;box-shadow:rgba(50,50,93,0.14902) 0px 1px 3px, rgba(0,0,0,0.0196078) 0px 1px 0px;border:0;outline:0;border-radius:4px;background:white;}input::-webkit-input-placeholder{color:#aab7c4;}input::-moz-placeholder{color:#aab7c4;}input:-ms-input-placeholder{color:#aab7c4;}input::placeholder{color:#aab7c4;}input:focus,.StripeElement--focus{box-shadow:rgba(50,50,93,0.109804) 0px 4px 6px, rgba(0,0,0,0.0784314) 0px 1px 3px;-webkit-transition:all 150ms ease;-webkit-transition:all 150ms ease;transition:all 150ms ease;}.StripeElement.IdealBankElement,.StripeElement.PaymentRequestButton{padding:0;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFx4YW1wcFxcaHRkb2NzXFxuZXh0LXJlYWN0LWhvb2tzLXN0cmFwaS1mb29kLWRlbGl2ZXJ5XFxmcm9udGVuZFxcY29tcG9uZW50c1xcUmVzdGF1cmFudExpc3RcXEFkZFJlc0Zvcm0uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBOE9TLEFBSzhCLEFBTUEsQUFLVSxBQVlsQixBQUdhLEFBSUcsQUFLWCxBQVFBLEFBTUEsQUFLSyxBQXNCQSxBQUtSLEFBUUcsQUFvQkEsQUFlQSxBQUt3QixBQU01QixVQUNaLENBdERpQixHQTlDQyxBQVFBLEFBTUEsQUF3Q29CLEFBb0JBLEFBZXRDLEdBdEhhLEVBZ0RGLEFBc0JXLEdBbER0QixHQUlpQixDQW9EVSxDQXJFYSxDQTBDNUIsQ0FoRGQsQ0E2QnFCLEFBUUssQUFNQyxRQU1GLENBakN2QixBQXNEa0MsQ0E5Q3lCLE9BTTFDLEdBcURNLEFBb0JBLENBM0JNLENBdENiLEtBN0NHLEVBeURMLEdBbkJFLElBUWhCLEtBWW1CLEFBb0JuQixBQWFrQixBQW9CQSxDQTlHaEIsSUFzQ1UsTUEwRndCLElBekZwQyxDQW9Eb0IsQUFvQkEsQ0FyREgsTUEzQmpCLFNBNkJpQyxFQWdDakIsQUFvQkEsV0FpQlksR0FwQ2UsQUFvQkEsb0JBcEc3QixBQXFDZCxLQWtDaUMsT0F0RWxCLFFBaUZ5QixBQW9CQSxLQXBHdEIsUUE4Q0wsSUFxRWIsSUFsSG9CLEdBOENBLGVBN0NGLEdBOENELFlBc0JqQixDQW5FcUIsRUE4Q0gsZ0JBQ1MsQ0E5QzNCLE9BNkVXLEFBb0JBLFNBbkJDLEFBb0JBLFFBbkRhLEVBZ0NMLEFBb0JBLGtCQW5CRCxBQW9CQSxpQkFuQkwsQUFvQmQsWUFuQmtCLGdCQUNGLGNBQ0YsYUFDZCxpQkFyQzJCLHlCQUNKLGtEQUNhLGtDQUNSLDREQUNWLGdCQUNsQiIsImZpbGUiOiJDOlxceGFtcHBcXGh0ZG9jc1xcbmV4dC1yZWFjdC1ob29rcy1zdHJhcGktZm9vZC1kZWxpdmVyeVxcZnJvbnRlbmRcXGNvbXBvbmVudHNcXFJlc3RhdXJhbnRMaXN0XFxBZGRSZXNGb3JtLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogL2NvbXBvbmVudHMvQ2hlY2tvdXQvQ2hlY2tvdXRGb3JtLmpzICovXHJcblxyXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUNvbnRleHQsIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xyXG5cclxuaW1wb3J0IHsgRm9ybUdyb3VwLCBMYWJlbCwgSW5wdXQgfSBmcm9tIFwicmVhY3RzdHJhcFwiO1xyXG5cclxuaW1wb3J0IGZldGNoIGZyb20gXCJpc29tb3JwaGljLWZldGNoXCI7XHJcbi8vaW1wb3J0IENvb2tpZXMgZnJvbSBcImpzLWNvb2tpZVwiO1xyXG4vL2ltcG9ydCB7IENhcmRFbGVtZW50LCB1c2VTdHJpcGUsIHVzZUVsZW1lbnRzIH0gZnJvbSBcIkBzdHJpcGUvcmVhY3Qtc3RyaXBlLWpzXCI7XHJcblxyXG4vL2ltcG9ydCBDYXJkU2VjdGlvbiBmcm9tIFwiLi9DYXJkU2VjdGlvblwiO1xyXG5pbXBvcnQgQXBwQ29udGV4dCBmcm9tIFwiLi4vLi4vY29udGV4dC9BcHBDb250ZXh0XCI7XHJcbi8vaW1wb3J0IENrZWRpdG9yIGZyb20gXCIuLi9ja2VkaXRvci9Da2VkaXRvclwiO1xyXG4vL2ltcG9ydCBDb21wb3Rlc3QgZnJvbSBcIi4uL2NrZWRpdG9yL0NvbXBvdGVzdFwiO1xyXG5pbXBvcnQgZHluYW1pYyBmcm9tICduZXh0L2R5bmFtaWMnO1xyXG5cclxuaW1wb3J0ICQgZnJvbSBcImpxdWVyeVwiO1xyXG5cclxuaW1wb3J0IFN3YWwgZnJvbSAnc3dlZXRhbGVydDInXHJcbmltcG9ydCB3aXRoUmVhY3RDb250ZW50IGZyb20gJ3N3ZWV0YWxlcnQyLXJlYWN0LWNvbnRlbnQnXHJcbmltcG9ydCBSb3V0ZXIgZnJvbSBcIm5leHQvcm91dGVyXCI7XHJcblxyXG5jb25zdCBDa2VkaXRvciA9IGR5bmFtaWMoKCkgPT4gaW1wb3J0KCcuLi9ja2VkaXRvci9Da2VkaXRvcicpLCB7IHNzcjogZmFsc2UgfSlcclxuXHJcbmNvbnN0IE15U3dhbCA9IHdpdGhSZWFjdENvbnRlbnQoU3dhbCk7XHJcblxyXG5mdW5jdGlvbiBBZGRSZXNGb3JtKCkge1xyXG4gIGNvbnN0IFtkYXRhLCBzZXREYXRhXSA9IHVzZVN0YXRlKHtcclxuICAgIG5hbWVzaG9wOiBcIlwiLFxyXG4gICAgZGVzY3JpcHRpb246IFwiXCIsXHJcbiAgfSk7XHJcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShcIlwiKTtcclxuICAvL2NvbnN0IHN0cmlwZSA9IHVzZVN0cmlwZSgpO1xyXG4gIC8vY29uc3QgZWxlbWVudHMgPSB1c2VFbGVtZW50cygpO1xyXG4gIGNvbnN0IGFwcENvbnRleHQgPSB1c2VDb250ZXh0KEFwcENvbnRleHQpO1xyXG5cclxuICBjb25zdCBbc2VsZWN0ZWRGaWxlLCBzZXRTZWxlY3RlZEZpbGVdID0gdXNlU3RhdGUoKVxyXG4gIGNvbnN0IFtwcmV2aWV3LCBzZXRQcmV2aWV3XSA9IHVzZVN0YXRlKClcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcclxuXHJcbiAgICAvLyBjcmVhdGUgYSBwcmV2aWV3IGFzIGEgc2lkZSBlZmZlY3QsIHdoZW5ldmVyIHNlbGVjdGVkIGZpbGUgaXMgY2hhbmdlZFxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBpZiAoIXNlbGVjdGVkRmlsZSkge1xyXG4gICAgICAgICAgICBzZXRQcmV2aWV3KHVuZGVmaW5lZClcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBvYmplY3RVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHNlbGVjdGVkRmlsZSlcclxuICAgICAgICBzZXRQcmV2aWV3KG9iamVjdFVybClcclxuXHJcbiAgICAgICAgLy8gZnJlZSBtZW1vcnkgd2hlbiBldmVyIHRoaXMgY29tcG9uZW50IGlzIHVubW91bnRlZFxyXG4gICAgICAgIHJldHVybiAoKSA9PiBVUkwucmV2b2tlT2JqZWN0VVJMKG9iamVjdFVybClcclxuXHJcbiAgICB9LCBbc2VsZWN0ZWRGaWxlXSlcclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAkKFwiLm5hbWVzaG9wXCIpLmNoYW5nZShmdW5jdGlvbigpIHtcclxuICAgICAgICBhbGVydCggXCJ0ZXN0XCIgKTtcclxuICAgICAgfSk7XHJcbiAgICB9LCBbXSlcclxuXHJcbiAgZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xyXG4gICAgLy9hbGVydChkYXRhLmRlc2NyaXB0aW9uKVxyXG4gICAgLy8gc2V0IHRoZSBrZXkgPSB0byB0aGUgbmFtZSBwcm9wZXJ0eSBlcXVhbCB0byB0aGUgdmFsdWUgdHlwZWRcclxuICAgIGNvbnN0IHVwZGF0ZUl0ZW0gPSAoZGF0YVtlLnRhcmdldC5uYW1lXSA9IGUudGFyZ2V0LnZhbHVlKTtcclxuICAgIC8vIHVwZGF0ZSB0aGUgc3RhdGUgZGF0YSBvYmplY3RcclxuICAgIHNldERhdGEoeyAuLi5kYXRhLCB1cGRhdGVJdGVtIH0pO1xyXG5cclxuICAgIC8qTXlTd2FsLmZpcmUoe1xyXG4gICAgICB0aXRsZTogPHA+SGVsbG8gV29ybGQ8L3A+LFxyXG4gICAgICBmb290ZXI6ICdDb3B5cmlnaHQgMjAxOCcsXHJcbiAgICAgIGRpZE9wZW46ICgpID0+IHtcclxuICAgICAgICAvLyBgTXlTd2FsYCBpcyBhIHN1YmNsYXNzIG9mIGBTd2FsYFxyXG4gICAgICAgIC8vICAgd2l0aCBhbGwgdGhlIHNhbWUgaW5zdGFuY2UgJiBzdGF0aWMgbWV0aG9kc1xyXG4gICAgICAgIE15U3dhbC5jbGlja0NvbmZpcm0oKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICByZXR1cm4gTXlTd2FsLmZpcmUoPHA+U2hvcnRoYW5kIHdvcmtzIHRvbzwvcD4pXHJcbiAgICB9KSovXHJcbiAgICBcclxuICB9XHJcblxyXG4gIC8vZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN2YWxpZGF0ZWRDdXN0b21GaWxlXCIpLm9uY2hhbmdlID0gZnVuY3Rpb24oKXtcclxuICAgIGZ1bmN0aW9uIG9uQ2hhbmdlRihlKSB7XHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZmlsZS1uYW1lXCIpLnRleHRDb250ZW50ID0gZS50YXJnZXQuZmlsZXNbMF0ubmFtZTtcclxuICAgICAgaWYgKCFlLnRhcmdldC5maWxlcyB8fCBlLnRhcmdldC5maWxlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICBzZXRTZWxlY3RlZEZpbGUodW5kZWZpbmVkKVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcbiAgICAgIC8vIEkndmUga2VwdCB0aGlzIGV4YW1wbGUgc2ltcGxlIGJ5IHVzaW5nIHRoZSBmaXJzdCBpbWFnZSBpbnN0ZWFkIG9mIG11bHRpcGxlXHJcbiAgICAgIHNldFNlbGVjdGVkRmlsZShlLnRhcmdldC5maWxlc1swXSlcclxuICAgIH1cclxuICAvL31cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gc3VibWl0QWRkUmVzdGF1cmFudChldmVudCkge1xyXG4gICAgICAvL2FsZXJ0KGRhdGEuZGVzY3JpcHRpb24pO1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIC8vIC8vIFVzZSBlbGVtZW50cy5nZXRFbGVtZW50IHRvIGdldCBhIHJlZmVyZW5jZSB0byB0aGUgbW91bnRlZCBFbGVtZW50LlxyXG4gICAgLy9jb25zdCBjYXJkRWxlbWVudCA9IGVsZW1lbnRzLmdldEVsZW1lbnQoQ2FyZEVsZW1lbnQpO1xyXG5cclxuICAgIC8vIC8vIFBhc3MgdGhlIEVsZW1lbnQgZGlyZWN0bHkgdG8gb3RoZXIgU3RyaXBlLmpzIG1ldGhvZHM6XHJcbiAgICAvLyAvLyBlLmcuIGNyZWF0ZVRva2VuIC0gaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvdG9rZW5zX3NvdXJjZXMvY3JlYXRlX3Rva2VuP3R5cGU9Y2FyZEVsZW1lbnRcclxuICAgIC8vIGdldCB0b2tlbiBiYWNrIGZyb20gc3RyaXBlIHRvIHByb2Nlc3MgY3JlZGl0IGNhcmRcclxuICAgIC8vY29uc3QgdG9rZW4gPSBhd2FpdCBzdHJpcGUuY3JlYXRlVG9rZW4oY2FyZEVsZW1lbnQpO1xyXG4gICAgLy9jb25zdCB1c2VyVG9rZW4gPSBDb29raWVzLmdldChcInRva2VuXCIpO1xyXG4gICAgaWYoZGF0YS5uYW1lc2hvcCA9PSBcIlwiKXtcclxuICAgICAgXHJcbiAgICAgIE15U3dhbC5maXJlKHtcclxuICAgICAgaWNvbjogJ2Vycm9yJyxcclxuICAgICAgLy90aXRsZTogJ09vcHMuLi4nLFxyXG4gICAgICB0ZXh0OiAn4LiB4Lij4Li44LiT4Liy4LiB4Lij4Lit4LiB4LiK4Li34LmI4Lit4Lij4LmJ4Liy4LiZJyxcclxuICAgICAgb25BZnRlckNsb3NlOiAoKSA9PiB7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaW5wdXRbbmFtZT0nbmFtZXNob3AnXVwiKS5mb2N1cygpLCAxMTApO1xyXG4gICAgICB9XHJcbiAgICAgIC8vZm9vdGVyOiAnPGEgaHJlZj5XaHkgZG8gSSBoYXZlIHRoaXMgaXNzdWU/PC9hPidcclxuICAgICAgfSlcclxuICAgICAgXHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKGRhdGEuZGVzY3JpcHRpb24gPT0gXCJcIil7XHJcbiAgICAgIE15U3dhbC5maXJlKHtcclxuICAgICAgICBpY29uOiAnZXJyb3InLFxyXG4gICAgICAgIC8vdGl0bGU6ICdPb3BzLi4uJyxcclxuICAgICAgICB0ZXh0OiAn4LiB4Lij4Li44LiT4Liy4LiB4Lij4Lit4LiB4Lij4Liy4Lii4Lil4Liw4LmA4Lit4Li14Lii4LiU4Lij4LmJ4Liy4LiZJyxcclxuICAgICAgICAvL2Zvb3RlcjogJzxhIGhyZWY+V2h5IGRvIEkgaGF2ZSB0aGlzIGlzc3VlPzwvYT4nXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcclxuICAgIGV2ZW50LnRhcmdldC5kaXNhYmxlZD10cnVlO1xyXG4gICAgY29uc3QgZmlsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImlucHV0W25hbWU9J2ltYWdlJ11cIik7XHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG5cdFx0XHJcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ2RhdGEnLCBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgIG5hbWU6IGRhdGEubmFtZXNob3AsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiBkYXRhLmRlc2NyaXB0aW9uLFxyXG4gICAgfSkpO1xyXG4gICAgaWYgKGZpbGVJbnB1dC5maWxlc1swXSkge1xyXG4gICAgICBmb3JtRGF0YS5hcHBlbmQoYGZpbGVzLmltYWdlYCwgZmlsZUlucHV0LmZpbGVzWzBdLCBmaWxlSW5wdXQuZmlsZXNbMF0ubmFtZSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkx9L3Jlc3RhdXJhbnRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAvL2hlYWRlcnM6IHVzZXJUb2tlbiAmJiB7IEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt1c2VyVG9rZW59YCB9LFxyXG4gICAgICAvL2hlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfSxcclxuICAgICAgLy9oZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJ30sXHJcbiAgICAgIC8vaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ30sXHJcblxyXG4gICAgICAvKmJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBkYXRhLm5hbWVzaG9wLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBkYXRhLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgIGFtb3VudDogTnVtYmVyKE1hdGgucm91bmQoYXBwQ29udGV4dC5jYXJ0LnRvdGFsICsgXCJlMlwiKSArIFwiZS0yXCIpLFxyXG4gICAgICAgIGRpc2hlczogYXBwQ29udGV4dC5jYXJ0Lml0ZW1zLFxyXG4gICAgICAgIGFkZHJlc3M6IGRhdGEuYWRkcmVzcyxcclxuICAgICAgICBjaXR5OiBkYXRhLmNpdHksXHJcbiAgICAgICAgc3RhdGU6IGRhdGEuc3RhdGUsXHJcbiAgICAgICAgdG9rZW46IHRva2VuLnRva2VuLmlkLFxyXG4gICAgICB9KSwqL1xyXG4gICAgICBcclxuICAgICAgYm9keTogZm9ybURhdGFcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIHNldEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgTXlTd2FsLmZpcmUoe1xyXG4gICAgICAgIGljb246ICdzdWNjZXNzJyxcclxuICAgICAgICB0ZXh0OiAn4LmA4Lie4Li04LmI4Lih4LiC4LmJ4Lit4Lih4Li54Lil4Lij4LmJ4Liy4LiZ4LmA4Lij4Li14Lii4Lia4Lij4LmJ4Lit4LiiJyxcclxuICAgICAgICBhbGxvd091dHNpZGVDbGljazogZmFsc2VcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIFJvdXRlci5wdXNoKFwiL1wiKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gT1RIRVIgc3RyaXBlIG1ldGhvZHMgeW91IGNhbiB1c2UgZGVwZW5kaW5nIG9uIGFwcFxyXG4gICAgLy8gLy8gb3IgY3JlYXRlUGF5bWVudE1ldGhvZCAtIGh0dHBzOi8vc3RyaXBlLmNvbS9kb2NzL2pzL3BheW1lbnRfaW50ZW50cy9jcmVhdGVfcGF5bWVudF9tZXRob2RcclxuICAgIC8vIHN0cmlwZS5jcmVhdGVQYXltZW50TWV0aG9kKHtcclxuICAgIC8vICAgdHlwZTogXCJjYXJkXCIsXHJcbiAgICAvLyAgIGNhcmQ6IGNhcmRFbGVtZW50LFxyXG4gICAgLy8gfSk7XHJcblxyXG4gICAgLy8gLy8gb3IgY29uZmlybUNhcmRQYXltZW50IC0gaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvcGF5bWVudF9pbnRlbnRzL2NvbmZpcm1fY2FyZF9wYXltZW50XHJcbiAgICAvLyBzdHJpcGUuY29uZmlybUNhcmRQYXltZW50KHBheW1lbnRJbnRlbnRDbGllbnRTZWNyZXQsIHtcclxuICAgIC8vICAgcGF5bWVudF9tZXRob2Q6IHtcclxuICAgIC8vICAgICBjYXJkOiBjYXJkRWxlbWVudCxcclxuICAgIC8vICAgfSxcclxuICAgIC8vIH0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFwZXJcIj5cclxuXHJcbiAgICAgIDxoNT7guKPguLLguKLguKXguLDguYDguK3guLXguKLguJTguKPguYnguLLguJkgOjwvaDU+XHJcbiAgICAgIDxociAvPlxyXG4gICAgICA8Rm9ybUdyb3VwIHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiIH19PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgZmxleDogXCIwLjkwXCIsIG1hcmdpblJpZ2h0OiAxMCB9fT5cclxuICAgICAgICAgIDxMYWJlbD7guIrguLfguYjguK3guKPguYnguLLguJk8L0xhYmVsPlxyXG4gICAgICAgICAgPElucHV0IHN0eWxlPXt7d2lkdGg6IDIwMH19IG5hbWU9XCJuYW1lc2hvcFwiIG9uQ2hhbmdlPXtvbkNoYW5nZX0gLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9Gb3JtR3JvdXA+XHJcbiAgICAgIDxGb3JtR3JvdXAgc3R5bGU9e3sgZGlzcGxheTogXCJmbGV4XCIgfX0+XHJcbiAgICAgICAgPGRpdiBzdHlsZT17eyBmbGV4OiBcIjAuNjVcIiwgbWFyZ2luUmlnaHQ6IFwiNiVcIiB9fT5cclxuICAgICAgICAgIDxMYWJlbD7guKDguLLguJ48L0xhYmVsPlxyXG5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjdXN0b20tZmlsZVwiPlxyXG4gICAgICAgICAgPElucHV0IHR5cGU9XCJmaWxlXCIgbmFtZT1cImltYWdlXCIgb25DaGFuZ2U9e29uQ2hhbmdlRn0gY2xhc3M9XCJjdXN0b20tZmlsZS1pbnB1dFwiIGlkPVwidmFsaWRhdGVkQ3VzdG9tRmlsZVwiIHJlcXVpcmVkIC8+XHJcbiAgICAgICAgICA8bGFiZWwgaWQ9XCJmaWxlLW5hbWVcIiBjbGFzcz1cImN1c3RvbS1maWxlLWxhYmVsXCIgZm9yPVwidmFsaWRhdGVkQ3VzdG9tRmlsZVwiPuC5gOC4peC4t+C4reC4geC4o+C4ueC4m+C4oOC4suC4ni4uLjwvbGFiZWw+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW52YWxpZC1mZWVkYmFja1wiPkV4YW1wbGUgaW52YWxpZCBjdXN0b20gZmlsZSBmZWVkYmFjazwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7bWFyZ2luVG9wOiA1fX0+XHJcbiAgICAgICAgICB7c2VsZWN0ZWRGaWxlICYmICA8aW1nIHN0eWxlPXt7d2lkdGg6IFwiMTAwJVwifX0gc3JjPXtwcmV2aWV3fSAvPiB9ICAgICBcclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L0Zvcm1Hcm91cD5cclxuICAgICAgPEZvcm1Hcm91cCBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiB9fT5cclxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGZsZXg6IFwiMC42NVwiLCBtYXJnaW5SaWdodDogXCI2JVwiIH19PlxyXG4gICAgICAgICAgPExhYmVsPuC4o+C4suC4ouC4peC4sOC5gOC4reC4teC4ouC4lDwvTGFiZWw+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNrIGNrLXRvb2xiYXItZHJvcGRvd24gY2stdG9vbGJhciBjay10b29sYmFyX19pdGVtc1wiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjay1lZGl0b3JfX2VkaXRhYmxlXCI+XHJcbiAgICAgICAgICA8Q2tlZGl0b3Igb25DaGFuZ2U9eyh2KT0+IHtkYXRhWydkZXNjcmlwdGlvbiddID0gdjt9fSAvPlxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvRm9ybUdyb3VwPlxyXG4gICAgICBcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJvcmRlci1idXR0b24td3JhcHBlclwiPlxyXG4gICAgICAgIDxidXR0b24gb25DbGljaz17c3VibWl0QWRkUmVzdGF1cmFudH0+XHJcbiAgICAgICAgICB7bG9hZGluZyA/IFwiTG9hZGluZy4uLiBcIiA6IFwi4LmA4Lie4Li04LmI4Lih4Lij4LmJ4Liy4LiZ4LiE4LmJ4LiyXCJ9XHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8c3R5bGUganN4IGdsb2JhbD5cclxuICAgICAgICB7YFxyXG4gICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA0MjVweCkge1xyXG4gICAgICAgICAgICAuY2suY2stdG9vbGJhci1kcm9wZG93biAuY2suY2stdG9vbGJhciAuY2suY2stdG9vbGJhcl9faXRlbXNcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgICAgICAgICAgICBtaW4td2lkdGg6IDcwdnc7XHJcbiAgICAgICAgICAgIH0gIFxyXG4gICAgICAgIH0gXHJcbiAgICAgICAgLmNrLWVkaXRvcl9fZWRpdGFibGVcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDQwMHB4O1xyXG4gICAgICAgICAgICB3aWR0aDozMDBweDtcclxuICAgICAgICB9ICBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAucGFwZXIge1xyXG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBsaWdodGdyYXk7XHJcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDBweCAxcHggM3B4IDBweCByZ2JhKDAsIDAsIDAsIDAuMiksXHJcbiAgICAgICAgICAgICAgMHB4IDFweCAxcHggMHB4IHJnYmEoMCwgMCwgMCwgMC4xNCksXHJcbiAgICAgICAgICAgICAgMHB4IDJweCAxcHggLTFweCByZ2JhKDAsIDAsIDAsIDAuMTIpO1xyXG4gICAgICAgICAgICBoZWlnaHQ6IGF1dG87XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDMwcHg7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmZmY7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcclxuICAgICAgICAgICAgbWFyZ2luLXRvcDogMTBweDtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5mb3JtLWhhbGYge1xyXG4gICAgICAgICAgICBmbGV4OiAwLjU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAqIHtcclxuICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJvZHksXHJcbiAgICAgICAgICBodG1sIHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y2ZjlmYztcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgICAgICAgICBmb250LWZhbWlseTogSGVsdmV0aWNhIE5ldWUsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBoMSB7XHJcbiAgICAgICAgICAgIGNvbG9yOiAjMzIzMjVkO1xyXG4gICAgICAgICAgICBmb250LXdlaWdodDogNDAwO1xyXG4gICAgICAgICAgICBsaW5lLWhlaWdodDogNTBweDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiA0MHB4O1xyXG4gICAgICAgICAgICBtYXJnaW46IDIwcHggMDtcclxuICAgICAgICAgICAgcGFkZGluZzogMDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5DaGVja291dCB7XHJcbiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvO1xyXG4gICAgICAgICAgICBtYXgtd2lkdGg6IDgwMHB4O1xyXG4gICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICAgICAgICBwYWRkaW5nOiAwIDVweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGxhYmVsIHtcclxuICAgICAgICAgICAgY29sb3I6ICM2YjdjOTM7XHJcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiAzMDA7XHJcbiAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOiAwLjAyNWVtO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnV0dG9uIHtcclxuICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxuICAgICAgICAgICAgYm9yZGVyOiAwO1xyXG4gICAgICAgICAgICBvdXRsaW5lOiAwO1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgICAgIGhlaWdodDogNDBweDtcclxuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDQwcHg7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDAgMTRweDtcclxuICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggNnB4IHJnYmEoNTAsIDUwLCA5MywgMC4xMSksXHJcbiAgICAgICAgICAgICAgMCAxcHggM3B4IHJnYmEoMCwgMCwgMCwgMC4wOCk7XHJcbiAgICAgICAgICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTVweDtcclxuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcclxuICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuMDI1ZW07XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM2NzcyZTU7XHJcbiAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICAgICAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgMTUwbXMgZWFzZTtcclxuICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDE1MG1zIGVhc2U7XHJcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDEwcHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBmb3JtIHtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNDBweDtcclxuICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDQwcHg7XHJcbiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCAjZTZlYmYxO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnV0dG9uOmhvdmVyIHtcclxuICAgICAgICAgICAgY29sb3I6ICNmZmY7XHJcbiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzc3OTVmODtcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xcHgpO1xyXG4gICAgICAgICAgICBib3gtc2hhZG93OiAwIDdweCAxNHB4IHJnYmEoNTAsIDUwLCA5MywgMC4xKSxcclxuICAgICAgICAgICAgICAwIDNweCA2cHggcmdiYSgwLCAwLCAwLCAwLjA4KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRleHRhcmVhIHtcclxuICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmEgIWltcG9ydGFudDtcclxuICAgICAgICAgICAgbWFyZ2luOiAxMHB4IDAgMjBweCAwO1xyXG4gICAgICAgICAgICBtYXgtd2lkdGg6IDUwMHB4O1xyXG4gICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDE0cHg7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMWVtO1xyXG4gICAgICAgICAgICBmb250LWZhbWlseTogXCJTb3VyY2UgQ29kZSBQcm9cIiwgbW9ub3NwYWNlO1xyXG4gICAgICAgICAgICBib3gtc2hhZG93OiByZ2JhKDUwLCA1MCwgOTMsIDAuMTQ5MDIpIDBweCAxcHggM3B4LFxyXG4gICAgICAgICAgICAgIHJnYmEoMCwgMCwgMCwgMC4wMTk2MDc4KSAwcHggMXB4IDBweDtcclxuICAgICAgICAgICAgYm9yZGVyOiAwO1xyXG4gICAgICAgICAgICBvdXRsaW5lOiAwO1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICAgICAgICAgICB3aWR0aDogNDQwcHg7XHJcbiAgICAgICAgICAgIHJlc2l6ZTogdmVydGljYWw7XHJcbiAgICAgICAgICAgIG92ZXJmbG93OiBhdXRvO1xyXG4gICAgICAgICAgICBoZWlnaHQ6MTIwcHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpbnB1dCxcclxuICAgICAgICAgIC5TdHJpcGVFbGVtZW50IHtcclxuICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmEgIWltcG9ydGFudDtcclxuICAgICAgICAgICAgbWFyZ2luOiAxMHB4IDAgMjBweCAwO1xyXG4gICAgICAgICAgICBtYXgtd2lkdGg6IDUwMHB4O1xyXG4gICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDE0cHg7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMWVtO1xyXG4gICAgICAgICAgICBmb250LWZhbWlseTogXCJTb3VyY2UgQ29kZSBQcm9cIiwgbW9ub3NwYWNlO1xyXG4gICAgICAgICAgICBib3gtc2hhZG93OiByZ2JhKDUwLCA1MCwgOTMsIDAuMTQ5MDIpIDBweCAxcHggM3B4LFxyXG4gICAgICAgICAgICAgIHJnYmEoMCwgMCwgMCwgMC4wMTk2MDc4KSAwcHggMXB4IDBweDtcclxuICAgICAgICAgICAgYm9yZGVyOiAwO1xyXG4gICAgICAgICAgICBvdXRsaW5lOiAwO1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaW5wdXQ6OnBsYWNlaG9sZGVyIHtcclxuICAgICAgICAgICAgY29sb3I6ICNhYWI3YzQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpbnB1dDpmb2N1cyxcclxuICAgICAgICAgIC5TdHJpcGVFbGVtZW50LS1mb2N1cyB7XHJcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IHJnYmEoNTAsIDUwLCA5MywgMC4xMDk4MDQpIDBweCA0cHggNnB4LFxyXG4gICAgICAgICAgICAgIHJnYmEoMCwgMCwgMCwgMC4wNzg0MzE0KSAwcHggMXB4IDNweDtcclxuICAgICAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgMTUwbXMgZWFzZTtcclxuICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDE1MG1zIGVhc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAuU3RyaXBlRWxlbWVudC5JZGVhbEJhbmtFbGVtZW50LFxyXG4gICAgICAgICAgLlN0cmlwZUVsZW1lbnQuUGF5bWVudFJlcXVlc3RCdXR0b24ge1xyXG4gICAgICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIGB9XHJcbiAgICAgIDwvc3R5bGU+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcbmV4cG9ydCBkZWZhdWx0IEFkZFJlc0Zvcm07Il19 */\\n/*@ sourceURL=C:\\\\\\\\xampp\\\\\\\\htdocs\\\\\\\\next-react-hooks-strapi-food-delivery\\\\\\\\frontend\\\\\\\\components\\\\\\\\RestaurantList\\\\\\\\AddResForm.js */\"));\n}\n\nexport default AddResForm;","map":{"version":3,"sources":["C:/xampp/htdocs/next-react-hooks-strapi-food-delivery/frontend/components/RestaurantList/AddResForm.js"],"names":["React","useState","useContext","useEffect","FormGroup","Label","Input","fetch","AppContext","dynamic","$","Swal","withReactContent","Router","Ckeditor","ssr","MySwal","AddResForm","data","setData","nameshop","description","error","setError","appContext","selectedFile","setSelectedFile","preview","setPreview","loading","setLoading","undefined","objectUrl","URL","createObjectURL","revokeObjectURL","change","alert","onChange","e","updateItem","target","name","value","onChangeF","document","querySelector","textContent","files","length","submitAddRestaurant","event","preventDefault","fire","icon","text","onAfterClose","setTimeout","focus","disabled","fileInput","formData","FormData","append","JSON","stringify","response","process","env","NEXT_PUBLIC_API_URL","method","body","ok","statusText","allowOutsideClick","then","push","display","flex","marginRight","width","marginTop","v"],"mappings":"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","sourcesContent":["/* /components/Checkout/CheckoutForm.js */\r\n\r\nimport React, { useState, useContext, useEffect } from \"react\";\r\n\r\nimport { FormGroup, Label, Input } from \"reactstrap\";\r\n\r\nimport fetch from \"isomorphic-fetch\";\r\n//import Cookies from \"js-cookie\";\r\n//import { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\r\n\r\n//import CardSection from \"./CardSection\";\r\nimport AppContext from \"../../context/AppContext\";\r\n//import Ckeditor from \"../ckeditor/Ckeditor\";\r\n//import Compotest from \"../ckeditor/Compotest\";\r\nimport dynamic from 'next/dynamic';\r\n\r\nimport $ from \"jquery\";\r\n\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\nimport Router from \"next/router\";\r\n\r\nconst Ckeditor = dynamic(() => import('../ckeditor/Ckeditor'), { ssr: false })\r\n\r\nconst MySwal = withReactContent(Swal);\r\n\r\nfunction AddResForm() {\r\n  const [data, setData] = useState({\r\n    nameshop: \"\",\r\n    description: \"\",\r\n  });\r\n  const [error, setError] = useState(\"\");\r\n  //const stripe = useStripe();\r\n  //const elements = useElements();\r\n  const appContext = useContext(AppContext);\r\n\r\n  const [selectedFile, setSelectedFile] = useState()\r\n  const [preview, setPreview] = useState()\r\n  const [loading, setLoading] = useState(false)\r\n\r\n    // create a preview as a side effect, whenever selected file is changed\r\n    useEffect(() => {\r\n        if (!selectedFile) {\r\n            setPreview(undefined)\r\n            return\r\n        }\r\n\r\n        const objectUrl = URL.createObjectURL(selectedFile)\r\n        setPreview(objectUrl)\r\n\r\n        // free memory when ever this component is unmounted\r\n        return () => URL.revokeObjectURL(objectUrl)\r\n\r\n    }, [selectedFile])\r\n\r\n    useEffect(() => {\r\n      $(\".nameshop\").change(function() {\r\n        alert( \"test\" );\r\n      });\r\n    }, [])\r\n\r\n  function onChange(e) {\r\n    //alert(data.description)\r\n    // set the key = to the name property equal to the value typed\r\n    const updateItem = (data[e.target.name] = e.target.value);\r\n    // update the state data object\r\n    setData({ ...data, updateItem });\r\n\r\n    /*MySwal.fire({\r\n      title: <p>Hello World</p>,\r\n      footer: 'Copyright 2018',\r\n      didOpen: () => {\r\n        // `MySwal` is a subclass of `Swal`\r\n        //   with all the same instance & static methods\r\n        MySwal.clickConfirm()\r\n      }\r\n    })\r\n    .then(() => {\r\n      return MySwal.fire(<p>Shorthand works too</p>)\r\n    })*/\r\n    \r\n  }\r\n\r\n  //document.querySelector(\"#validatedCustomFile\").onchange = function(){\r\n    function onChangeF(e) {\r\n      document.querySelector(\"#file-name\").textContent = e.target.files[0].name;\r\n      if (!e.target.files || e.target.files.length === 0) {\r\n        setSelectedFile(undefined)\r\n        return\r\n      }\r\n      // I've kept this example simple by using the first image instead of multiple\r\n      setSelectedFile(e.target.files[0])\r\n    }\r\n  //}\r\n\r\n  async function submitAddRestaurant(event) {\r\n      //alert(data.description);\r\n      event.preventDefault();\r\n\r\n    // // Use elements.getElement to get a reference to the mounted Element.\r\n    //const cardElement = elements.getElement(CardElement);\r\n\r\n    // // Pass the Element directly to other Stripe.js methods:\r\n    // // e.g. createToken - https://stripe.com/docs/js/tokens_sources/create_token?type=cardElement\r\n    // get token back from stripe to process credit card\r\n    //const token = await stripe.createToken(cardElement);\r\n    //const userToken = Cookies.get(\"token\");\r\n    if(data.nameshop == \"\"){\r\n      \r\n      MySwal.fire({\r\n      icon: 'error',\r\n      //title: 'Oops...',\r\n      text: 'กรุณากรอกชื่อร้าน',\r\n      onAfterClose: () => {\r\n        setTimeout(() => document.querySelector(\"input[name='nameshop']\").focus(), 110);\r\n      }\r\n      //footer: '<a href>Why do I have this issue?</a>'\r\n      })\r\n      \r\n    }\r\n    else if(data.description == \"\"){\r\n      MySwal.fire({\r\n        icon: 'error',\r\n        //title: 'Oops...',\r\n        text: 'กรุณากรอกรายละเอียดร้าน',\r\n        //footer: '<a href>Why do I have this issue?</a>'\r\n      })\r\n    }\r\n    else{\r\n    setLoading(true);\r\n    event.target.disabled=true;\r\n    const fileInput = document.querySelector(\"input[name='image']\");\r\n    const formData = new FormData();\r\n\t\t\r\n    formData.append('data', JSON.stringify({\r\n      name: data.nameshop,\r\n      description: data.description,\r\n    }));\r\n    if (fileInput.files[0]) {\r\n      formData.append(`files.image`, fileInput.files[0], fileInput.files[0].name);\r\n    }\r\n    const response = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/restaurants`, {\r\n      method: \"POST\",\r\n      //headers: userToken && { Authorization: `Bearer ${userToken}` },\r\n      //headers: {'Content-Type': 'application/json'},\r\n      //headers: {'Content-Type': 'multipart/form-data'},\r\n      //headers: {'Content-Type': 'application/x-www-form-urlencoded'},\r\n\r\n      /*body: JSON.stringify({\r\n        name: data.nameshop,\r\n        description: data.description,\r\n        amount: Number(Math.round(appContext.cart.total + \"e2\") + \"e-2\"),\r\n        dishes: appContext.cart.items,\r\n        address: data.address,\r\n        city: data.city,\r\n        state: data.state,\r\n        token: token.token.id,\r\n      }),*/\r\n      \r\n      body: formData\r\n\r\n    });\r\n\r\n    if (!response.ok) {\r\n      setError(response.statusText);\r\n    }\r\n    else{\r\n      MySwal.fire({\r\n        icon: 'success',\r\n        text: 'เพิ่มข้อมูลร้านเรียบร้อย',\r\n        allowOutsideClick: false\r\n      })\r\n      .then(() => {\r\n        Router.push(\"/\");\r\n      });\r\n    }\r\n    \r\n\r\n    }\r\n\r\n    // OTHER stripe methods you can use depending on app\r\n    // // or createPaymentMethod - https://stripe.com/docs/js/payment_intents/create_payment_method\r\n    // stripe.createPaymentMethod({\r\n    //   type: \"card\",\r\n    //   card: cardElement,\r\n    // });\r\n\r\n    // // or confirmCardPayment - https://stripe.com/docs/js/payment_intents/confirm_card_payment\r\n    // stripe.confirmCardPayment(paymentIntentClientSecret, {\r\n    //   payment_method: {\r\n    //     card: cardElement,\r\n    //   },\r\n    // });\r\n  }\r\n\r\n  return (\r\n    <div className=\"paper\">\r\n\r\n      <h5>รายละเอียดร้าน :</h5>\r\n      <hr />\r\n      <FormGroup style={{ display: \"flex\" }}>\r\n        <div style={{ flex: \"0.90\", marginRight: 10 }}>\r\n          <Label>ชื่อร้าน</Label>\r\n          <Input style={{width: 200}} name=\"nameshop\" onChange={onChange} />\r\n        </div>\r\n      </FormGroup>\r\n      <FormGroup style={{ display: \"flex\" }}>\r\n        <div style={{ flex: \"0.65\", marginRight: \"6%\" }}>\r\n          <Label>ภาพ</Label>\r\n\r\n          <div class=\"custom-file\">\r\n          <Input type=\"file\" name=\"image\" onChange={onChangeF} class=\"custom-file-input\" id=\"validatedCustomFile\" required />\r\n          <label id=\"file-name\" class=\"custom-file-label\" for=\"validatedCustomFile\">เลือกรูปภาพ...</label>\r\n          <div class=\"invalid-feedback\">Example invalid custom file feedback</div>\r\n          </div>\r\n          <div style={{marginTop: 5}}>\r\n          {selectedFile &&  <img style={{width: \"100%\"}} src={preview} /> }     \r\n          </div>\r\n        </div>\r\n      </FormGroup>\r\n      <FormGroup style={{ display: \"flex\" }}>\r\n        <div style={{ flex: \"0.65\", marginRight: \"6%\" }}>\r\n          <Label>รายละเอียด</Label>\r\n          <div className=\"ck ck-toolbar-dropdown ck-toolbar ck-toolbar__items\">\r\n          <div className=\"ck-editor__editable\">\r\n          <Ckeditor onChange={(v)=> {data['description'] = v;}} />\r\n            \r\n          </div>\r\n          </div>\r\n        </div>\r\n      </FormGroup>\r\n      \r\n      <div className=\"order-button-wrapper\">\r\n        <button onClick={submitAddRestaurant}>\r\n          {loading ? \"Loading... \" : \"เพิ่มร้านค้า\"}\r\n        </button>\r\n      </div>\r\n      <style jsx global>\r\n        {`\r\n        @media (max-width: 425px) {\r\n            .ck.ck-toolbar-dropdown .ck.ck-toolbar .ck.ck-toolbar__items\r\n            {\r\n              flex-wrap: wrap;\r\n              min-width: 70vw;\r\n            }  \r\n        } \r\n        .ck-editor__editable\r\n        {\r\n            min-height: 400px;\r\n            width:300px;\r\n        }  \r\n            \r\n          .paper {\r\n            border: 1px solid lightgray;\r\n            box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n              0px 1px 1px 0px rgba(0, 0, 0, 0.14),\r\n              0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n            height: auto;\r\n            padding: 30px;\r\n            background: #fff;\r\n            border-radius: 6px;\r\n            margin-top: 10px;\r\n            margin-bottom: 10px;\r\n          }\r\n          .form-half {\r\n            flex: 0.5;\r\n          }\r\n          * {\r\n            box-sizing: border-box;\r\n          }\r\n          body,\r\n          html {\r\n            background-color: #f6f9fc;\r\n            font-size: 18px;\r\n            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\r\n          }\r\n          h1 {\r\n            color: #32325d;\r\n            font-weight: 400;\r\n            line-height: 50px;\r\n            font-size: 40px;\r\n            margin: 20px 0;\r\n            padding: 0;\r\n          }\r\n          .Checkout {\r\n            margin: 0 auto;\r\n            max-width: 800px;\r\n            box-sizing: border-box;\r\n            padding: 0 5px;\r\n          }\r\n          label {\r\n            color: #6b7c93;\r\n            font-weight: 300;\r\n            letter-spacing: 0.025em;\r\n          }\r\n          button {\r\n            white-space: nowrap;\r\n            border: 0;\r\n            outline: 0;\r\n            display: inline-block;\r\n            height: 40px;\r\n            line-height: 40px;\r\n            padding: 0 14px;\r\n            box-shadow: 0 4px 6px rgba(50, 50, 93, 0.11),\r\n              0 1px 3px rgba(0, 0, 0, 0.08);\r\n            color: #fff;\r\n            border-radius: 4px;\r\n            font-size: 15px;\r\n            font-weight: 600;\r\n            text-transform: uppercase;\r\n            letter-spacing: 0.025em;\r\n            background-color: #6772e5;\r\n            text-decoration: none;\r\n            -webkit-transition: all 150ms ease;\r\n            transition: all 150ms ease;\r\n            margin-top: 10px;\r\n          }\r\n          form {\r\n            margin-bottom: 40px;\r\n            padding-bottom: 40px;\r\n            border-bottom: 3px solid #e6ebf1;\r\n          }\r\n          button:hover {\r\n            color: #fff;\r\n            cursor: pointer;\r\n            background-color: #7795f8;\r\n            transform: translateY(-1px);\r\n            box-shadow: 0 7px 14px rgba(50, 50, 93, 0.1),\r\n              0 3px 6px rgba(0, 0, 0, 0.08);\r\n          }\r\n          textarea {\r\n            display: block;\r\n            background-color: #f8f9fa !important;\r\n            margin: 10px 0 20px 0;\r\n            max-width: 500px;\r\n            padding: 10px 14px;\r\n            font-size: 1em;\r\n            font-family: \"Source Code Pro\", monospace;\r\n            box-shadow: rgba(50, 50, 93, 0.14902) 0px 1px 3px,\r\n              rgba(0, 0, 0, 0.0196078) 0px 1px 0px;\r\n            border: 0;\r\n            outline: 0;\r\n            border-radius: 4px;\r\n            background: white;\r\n            width: 440px;\r\n            resize: vertical;\r\n            overflow: auto;\r\n            height:120px;\r\n          }\r\n          input,\r\n          .StripeElement {\r\n            display: block;\r\n            background-color: #f8f9fa !important;\r\n            margin: 10px 0 20px 0;\r\n            max-width: 500px;\r\n            padding: 10px 14px;\r\n            font-size: 1em;\r\n            font-family: \"Source Code Pro\", monospace;\r\n            box-shadow: rgba(50, 50, 93, 0.14902) 0px 1px 3px,\r\n              rgba(0, 0, 0, 0.0196078) 0px 1px 0px;\r\n            border: 0;\r\n            outline: 0;\r\n            border-radius: 4px;\r\n            background: white;\r\n          }\r\n          input::placeholder {\r\n            color: #aab7c4;\r\n          }\r\n          input:focus,\r\n          .StripeElement--focus {\r\n            box-shadow: rgba(50, 50, 93, 0.109804) 0px 4px 6px,\r\n              rgba(0, 0, 0, 0.0784314) 0px 1px 3px;\r\n            -webkit-transition: all 150ms ease;\r\n            transition: all 150ms ease;\r\n          }\r\n          .StripeElement.IdealBankElement,\r\n          .StripeElement.PaymentRequestButton {\r\n            padding: 0;\r\n          }\r\n        `}\r\n      </style>\r\n    </div>\r\n  );\r\n}\r\nexport default AddResForm;"]},"metadata":{},"sourceType":"module"}