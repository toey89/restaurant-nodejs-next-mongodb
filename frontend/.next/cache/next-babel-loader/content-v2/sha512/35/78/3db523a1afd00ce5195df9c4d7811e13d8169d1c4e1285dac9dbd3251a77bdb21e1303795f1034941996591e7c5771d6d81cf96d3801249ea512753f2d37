{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\next-react-hooks-strapi-food-delivery\\\\frontend\\\\components\\\\RestaurantList\\\\AddResForm.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/* /components/Checkout/CheckoutForm.js */\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { FormGroup, Label, Input } from \"reactstrap\";\nimport fetch from \"isomorphic-fetch\"; //import Cookies from \"js-cookie\";\n//import { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\n//import CardSection from \"./CardSection\";\n\nimport AppContext from \"../../context/AppContext\"; //import Ckeditor from \"../ckeditor/Ckeditor\";\n//import Compotest from \"../ckeditor/Compotest\";\n\nimport dynamic from 'next/dynamic';\nimport $ from \"jquery\";\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\nimport Router from \"next/router\";\nconst Ckeditor = dynamic(() => import('../ckeditor/Ckeditor'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('../ckeditor/Ckeditor')],\n    modules: ['../ckeditor/Ckeditor']\n  }\n});\nconst MySwal = withReactContent(Swal);\n\nfunction AddResForm() {\n  const {\n    0: data,\n    1: setData\n  } = useState({\n    nameshop: \"\",\n    description: \"\"\n  });\n  const {\n    0: error,\n    1: setError\n  } = useState(\"\"); //const stripe = useStripe();\n  //const elements = useElements();\n\n  const appContext = useContext(AppContext);\n  const {\n    0: selectedFile,\n    1: setSelectedFile\n  } = useState();\n  const {\n    0: preview,\n    1: setPreview\n  } = useState();\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false); // create a preview as a side effect, whenever selected file is changed\n\n  useEffect(() => {\n    if (!selectedFile) {\n      setPreview(undefined);\n      return;\n    }\n\n    const objectUrl = URL.createObjectURL(selectedFile);\n    setPreview(objectUrl); // free memory when ever this component is unmounted\n\n    return () => URL.revokeObjectURL(objectUrl);\n  }, [selectedFile]);\n  useEffect(() => {\n    $(\".nameshop\").change(function () {\n      alert(\"test\");\n    });\n  }, []);\n\n  function onChange(e) {\n    //alert(data.description)\n    // set the key = to the name property equal to the value typed\n    const updateItem = data[e.target.name] = e.target.value; // update the state data object\n\n    setData(_objectSpread(_objectSpread({}, data), {}, {\n      updateItem\n    }));\n    /*MySwal.fire({\r\n      title: <p>Hello World</p>,\r\n      footer: 'Copyright 2018',\r\n      didOpen: () => {\r\n        // `MySwal` is a subclass of `Swal`\r\n        //   with all the same instance & static methods\r\n        MySwal.clickConfirm()\r\n      }\r\n    })\r\n    .then(() => {\r\n      return MySwal.fire(<p>Shorthand works too</p>)\r\n    })*/\n  } //document.querySelector(\"#validatedCustomFile\").onchange = function(){\n\n\n  function onChangeF(e) {\n    document.querySelector(\"#file-name\").textContent = e.target.files[0].name;\n\n    if (!e.target.files || e.target.files.length === 0) {\n      setSelectedFile(undefined);\n      return;\n    } // I've kept this example simple by using the first image instead of multiple\n\n\n    setSelectedFile(e.target.files[0]);\n  } //}\n\n\n  async function submitAddRestaurant(event) {\n    //alert(data.description);\n    event.preventDefault(); // // Use elements.getElement to get a reference to the mounted Element.\n    //const cardElement = elements.getElement(CardElement);\n    // // Pass the Element directly to other Stripe.js methods:\n    // // e.g. createToken - https://stripe.com/docs/js/tokens_sources/create_token?type=cardElement\n    // get token back from stripe to process credit card\n    //const token = await stripe.createToken(cardElement);\n    //const userToken = Cookies.get(\"token\");\n\n    if (data.nameshop == \"\") {\n      MySwal.fire({\n        icon: 'error',\n        //title: 'Oops...',\n        text: 'กรุณากรอกชื่อร้าน',\n        onAfterClose: () => {\n          setTimeout(() => document.querySelector(\"input[name='nameshop']\").focus(), 110);\n        } //footer: '<a href>Why do I have this issue?</a>'\n\n      });\n    } else if (data.description == \"\") {\n      MySwal.fire({\n        icon: 'error',\n        //title: 'Oops...',\n        text: 'กรุณากรอกรายละเอียดร้าน' //footer: '<a href>Why do I have this issue?</a>'\n\n      });\n    } else {\n      setLoading(true);\n      event.target.disabled = true;\n      const fileInput = document.querySelector(\"input[name='image']\");\n      const formData = new FormData();\n      formData.append('data', JSON.stringify({\n        name: data.nameshop,\n        description: data.description\n      }));\n\n      if (fileInput.files[0]) {\n        formData.append(`files.image`, fileInput.files[0], fileInput.files[0].name);\n      }\n\n      const response = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/restaurants`, {\n        method: \"POST\",\n        //headers: userToken && { Authorization: `Bearer ${userToken}` },\n        //headers: {'Content-Type': 'application/json'},\n        //headers: {'Content-Type': 'multipart/form-data'},\n        //headers: {'Content-Type': 'application/x-www-form-urlencoded'},\n\n        /*body: JSON.stringify({\r\n          name: data.nameshop,\r\n          description: data.description,\r\n          amount: Number(Math.round(appContext.cart.total + \"e2\") + \"e-2\"),\r\n          dishes: appContext.cart.items,\r\n          address: data.address,\r\n          city: data.city,\r\n          state: data.state,\r\n          token: token.token.id,\r\n        }),*/\n        body: formData\n      });\n\n      if (!response.ok) {\n        setError(response.statusText);\n      } else {\n        MySwal.fire({\n          icon: 'success',\n          text: 'เพิ่มข้อมูลร้านเรียบร้อย',\n          allowOutsideClick: false\n        }).then(() => {\n          Router.push(\"/\");\n        });\n      }\n    } // OTHER stripe methods you can use depending on app\n    // // or createPaymentMethod - https://stripe.com/docs/js/payment_intents/create_payment_method\n    // stripe.createPaymentMethod({\n    //   type: \"card\",\n    //   card: cardElement,\n    // });\n    // // or confirmCardPayment - https://stripe.com/docs/js/payment_intents/confirm_card_payment\n    // stripe.confirmCardPayment(paymentIntentClientSecret, {\n    //   payment_method: {\n    //     card: cardElement,\n    //   },\n    // });\n\n  }\n\n  return __jsx(\"div\", {\n    className: \"jsx-2988911564\" + \" \" + \"paper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 5\n    }\n  }, __jsx(\"h5\", {\n    className: \"jsx-2988911564\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }\n  }, \"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\\u0E23\\u0E49\\u0E32\\u0E19 :\"), __jsx(\"hr\", {\n    className: \"jsx-2988911564\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }\n  }), __jsx(FormGroup, {\n    style: {\n      display: \"flex\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    style: {\n      flex: \"0.90\",\n      marginRight: 10\n    },\n    className: \"jsx-2988911564\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }\n  }, __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 11\n    }\n  }, \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E23\\u0E49\\u0E32\\u0E19\"), __jsx(Input, {\n    style: {\n      width: 200\n    },\n    name: \"nameshop\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 11\n    }\n  }))), __jsx(FormGroup, {\n    style: {\n      display: \"flex\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    style: {\n      flex: \"0.65\",\n      marginRight: \"6%\"\n    },\n    className: \"jsx-2988911564\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }\n  }, __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 11\n    }\n  }, \"\\u0E20\\u0E32\\u0E1E\"), __jsx(\"div\", {\n    class: \"custom-file\",\n    className: \"jsx-2988911564\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 11\n    }\n  }, __jsx(Input, {\n    type: \"file\",\n    name: \"image\",\n    onChange: onChangeF,\n    class: \"custom-file-input\",\n    id: \"validatedCustomFile\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 11\n    }\n  }), __jsx(\"label\", {\n    id: \"file-name\",\n    class: \"custom-file-label\",\n    for: \"validatedCustomFile\",\n    className: \"jsx-2988911564\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 11\n    }\n  }, \"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E23\\u0E39\\u0E1B\\u0E20\\u0E32\\u0E1E...\"), __jsx(\"div\", {\n    class: \"invalid-feedback\",\n    className: \"jsx-2988911564\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 11\n    }\n  }, \"Example invalid custom file feedback\")), __jsx(\"div\", {\n    style: {\n      marginTop: 5\n    },\n    className: \"jsx-2988911564\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 11\n    }\n  }, selectedFile && __jsx(\"img\", {\n    style: {\n      width: \"100%\"\n    },\n    src: preview,\n    className: \"jsx-2988911564\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 29\n    }\n  })))), __jsx(FormGroup, {\n    style: {\n      display: \"flex\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    style: {\n      flex: \"0.65\",\n      marginRight: \"6%\"\n    },\n    className: \"jsx-2988911564\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 9\n    }\n  }, __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 11\n    }\n  }, \"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\"), __jsx(Ckeditor, {\n    data: \"\",\n    value: \"test\",\n    onChange: v => {\n      data['description'] = v;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 11\n    }\n  }))), __jsx(\"div\", {\n    className: \"jsx-2988911564\" + \" \" + \"order-button-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }\n  }, __jsx(\"button\", {\n    onClick: submitAddRestaurant,\n    className: \"jsx-2988911564\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 9\n    }\n  }, loading ? \"Loading... \" : \"เพิ่มร้านค้า\")), __jsx(_JSXStyle, {\n    id: \"2988911564\",\n    __self: this,\n    __source: void 0\n  }, \".paper{border:1px solid lightgray;box-shadow:0px 1px 3px 0px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 2px 1px -1px rgba(0,0,0,0.12);height:auto;padding:30px;background:#fff;border-radius:6px;margin-top:10px;margin-bottom:10px;}.form-half{-webkit-flex:0.5;-ms-flex:0.5;flex:0.5;}*{box-sizing:border-box;}body,html{background-color:#f6f9fc;font-size:18px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;}h1{color:#32325d;font-weight:400;line-height:50px;font-size:40px;margin:20px 0;padding:0;}.Checkout{margin:0 auto;max-width:800px;box-sizing:border-box;padding:0 5px;}label{color:#6b7c93;font-weight:300;-webkit-letter-spacing:0.025em;-moz-letter-spacing:0.025em;-ms-letter-spacing:0.025em;letter-spacing:0.025em;}button{white-space:nowrap;border:0;outline:0;display:inline-block;height:40px;line-height:40px;padding:0 14px;box-shadow:0 4px 6px rgba(50,50,93,0.11), 0 1px 3px rgba(0,0,0,0.08);color:#fff;border-radius:4px;font-size:15px;font-weight:600;text-transform:uppercase;-webkit-letter-spacing:0.025em;-moz-letter-spacing:0.025em;-ms-letter-spacing:0.025em;letter-spacing:0.025em;background-color:#6772e5;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:all 150ms ease;-webkit-transition:all 150ms ease;transition:all 150ms ease;margin-top:10px;}form{margin-bottom:40px;padding-bottom:40px;border-bottom:3px solid #e6ebf1;}button:hover{color:#fff;cursor:pointer;background-color:#7795f8;-webkit-transform:translateY(-1px);-ms-transform:translateY(-1px);transform:translateY(-1px);box-shadow:0 7px 14px rgba(50,50,93,0.1), 0 3px 6px rgba(0,0,0,0.08);}textarea{display:block;background-color:#f8f9fa !important;margin:10px 0 20px 0;max-width:500px;padding:10px 14px;font-size:1em;font-family:\\\"Source Code Pro\\\",monospace;box-shadow:rgba(50,50,93,0.14902) 0px 1px 3px, rgba(0,0,0,0.0196078) 0px 1px 0px;border:0;outline:0;border-radius:4px;background:white;width:440px;resize:vertical;overflow:auto;height:120px;}input,.StripeElement{display:block;background-color:#f8f9fa !important;margin:10px 0 20px 0;max-width:500px;padding:10px 14px;font-size:1em;font-family:\\\"Source Code Pro\\\",monospace;box-shadow:rgba(50,50,93,0.14902) 0px 1px 3px, rgba(0,0,0,0.0196078) 0px 1px 0px;border:0;outline:0;border-radius:4px;background:white;}input::-webkit-input-placeholder{color:#aab7c4;}input::-moz-placeholder{color:#aab7c4;}input:-ms-input-placeholder{color:#aab7c4;}input::placeholder{color:#aab7c4;}input:focus,.StripeElement--focus{box-shadow:rgba(50,50,93,0.109804) 0px 4px 6px, rgba(0,0,0,0.0784314) 0px 1px 3px;-webkit-transition:all 150ms ease;-webkit-transition:all 150ms ease;transition:all 150ms ease;}.StripeElement.IdealBankElement,.StripeElement.PaymentRequestButton{padding:0;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFx4YW1wcFxcaHRkb2NzXFxuZXh0LXJlYWN0LWhvb2tzLXN0cmFwaS1mb29kLWRlbGl2ZXJ5XFxmcm9udGVuZFxcY29tcG9uZW50c1xcUmVzdGF1cmFudExpc3RcXEFkZFJlc0Zvcm0uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBOE9TLEFBSXdDLEFBWWxCLEFBR2EsQUFJRyxBQUtYLEFBUUEsQUFNQSxBQUtLLEFBc0JBLEFBS1IsQUFRRyxBQW9CQSxBQWVBLEFBS3dCLEFBTTVCLFVBQ1osQ0F0RGlCLEdBOUNDLEFBUUEsQUFNQSxBQXdDb0IsQUFvQkEsQUFldEMsS0F0RVcsQUFzQlcsR0FsRHRCLEdBSWlCLENBb0RVLENBckVhLENBMEM1QixFQW5CTyxBQVFLLEFBTUMsUUFNRixDQWpDdkIsQUFzRGtDLENBOUN5QixPQU0xQyxHQXFETSxBQW9CQSxDQTNCTSxDQXRDYixPQVlGLEdBbkJFLElBUWhCLEtBWW1CLEFBb0JuQixBQWFrQixBQW9CQSxLQXhFTixNQTBGd0IsSUF6RnBDLENBb0RvQixBQW9CQSxDQXJESCxNQTNCakIsU0E2QmlDLEVBZ0NqQixBQW9CQSxXQWlCWSxHQXBDZSxBQW9CQSxvQkFwRzdCLEFBcUNkLEtBa0NpQyxPQXRFbEIsUUFpRnlCLEFBb0JBLEtBcEd0QixRQThDTCxJQXFFYixJQWxIb0IsR0E4Q0EsZUE3Q0YsR0E4Q0QsWUFzQmpCLENBbkVxQixFQThDSCxnQkFDUyxDQTlDM0IsT0E2RVcsQUFvQkEsU0FuQkMsQUFvQkEsUUFuRGEsRUFnQ0wsQUFvQkEsa0JBbkJELEFBb0JBLGlCQW5CTCxBQW9CZCxZQW5Ca0IsZ0JBQ0YsY0FDRixhQUNkLGlCQXJDMkIseUJBQ0osa0RBQ2Esa0NBQ1IsNERBQ1YsZ0JBQ2xCIiwiZmlsZSI6IkM6XFx4YW1wcFxcaHRkb2NzXFxuZXh0LXJlYWN0LWhvb2tzLXN0cmFwaS1mb29kLWRlbGl2ZXJ5XFxmcm9udGVuZFxcY29tcG9uZW50c1xcUmVzdGF1cmFudExpc3RcXEFkZFJlc0Zvcm0uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiAvY29tcG9uZW50cy9DaGVja291dC9DaGVja291dEZvcm0uanMgKi9cclxuXHJcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlQ29udGV4dCwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XHJcblxyXG5pbXBvcnQgeyBGb3JtR3JvdXAsIExhYmVsLCBJbnB1dCB9IGZyb20gXCJyZWFjdHN0cmFwXCI7XHJcblxyXG5pbXBvcnQgZmV0Y2ggZnJvbSBcImlzb21vcnBoaWMtZmV0Y2hcIjtcclxuLy9pbXBvcnQgQ29va2llcyBmcm9tIFwianMtY29va2llXCI7XHJcbi8vaW1wb3J0IHsgQ2FyZEVsZW1lbnQsIHVzZVN0cmlwZSwgdXNlRWxlbWVudHMgfSBmcm9tIFwiQHN0cmlwZS9yZWFjdC1zdHJpcGUtanNcIjtcclxuXHJcbi8vaW1wb3J0IENhcmRTZWN0aW9uIGZyb20gXCIuL0NhcmRTZWN0aW9uXCI7XHJcbmltcG9ydCBBcHBDb250ZXh0IGZyb20gXCIuLi8uLi9jb250ZXh0L0FwcENvbnRleHRcIjtcclxuLy9pbXBvcnQgQ2tlZGl0b3IgZnJvbSBcIi4uL2NrZWRpdG9yL0NrZWRpdG9yXCI7XHJcbi8vaW1wb3J0IENvbXBvdGVzdCBmcm9tIFwiLi4vY2tlZGl0b3IvQ29tcG90ZXN0XCI7XHJcbmltcG9ydCBkeW5hbWljIGZyb20gJ25leHQvZHluYW1pYyc7XHJcblxyXG5pbXBvcnQgJCBmcm9tIFwianF1ZXJ5XCI7XHJcblxyXG5pbXBvcnQgU3dhbCBmcm9tICdzd2VldGFsZXJ0MidcclxuaW1wb3J0IHdpdGhSZWFjdENvbnRlbnQgZnJvbSAnc3dlZXRhbGVydDItcmVhY3QtY29udGVudCdcclxuaW1wb3J0IFJvdXRlciBmcm9tIFwibmV4dC9yb3V0ZXJcIjtcclxuXHJcbmNvbnN0IENrZWRpdG9yID0gZHluYW1pYygoKSA9PiBpbXBvcnQoJy4uL2NrZWRpdG9yL0NrZWRpdG9yJyksIHsgc3NyOiBmYWxzZSB9KVxyXG5cclxuY29uc3QgTXlTd2FsID0gd2l0aFJlYWN0Q29udGVudChTd2FsKTtcclxuXHJcbmZ1bmN0aW9uIEFkZFJlc0Zvcm0oKSB7XHJcbiAgY29uc3QgW2RhdGEsIHNldERhdGFdID0gdXNlU3RhdGUoe1xyXG4gICAgbmFtZXNob3A6IFwiXCIsXHJcbiAgICBkZXNjcmlwdGlvbjogXCJcIixcclxuICB9KTtcclxuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKFwiXCIpO1xyXG4gIC8vY29uc3Qgc3RyaXBlID0gdXNlU3RyaXBlKCk7XHJcbiAgLy9jb25zdCBlbGVtZW50cyA9IHVzZUVsZW1lbnRzKCk7XHJcbiAgY29uc3QgYXBwQ29udGV4dCA9IHVzZUNvbnRleHQoQXBwQ29udGV4dCk7XHJcblxyXG4gIGNvbnN0IFtzZWxlY3RlZEZpbGUsIHNldFNlbGVjdGVkRmlsZV0gPSB1c2VTdGF0ZSgpXHJcbiAgY29uc3QgW3ByZXZpZXcsIHNldFByZXZpZXddID0gdXNlU3RhdGUoKVxyXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxyXG5cclxuICAgIC8vIGNyZWF0ZSBhIHByZXZpZXcgYXMgYSBzaWRlIGVmZmVjdCwgd2hlbmV2ZXIgc2VsZWN0ZWQgZmlsZSBpcyBjaGFuZ2VkXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGlmICghc2VsZWN0ZWRGaWxlKSB7XHJcbiAgICAgICAgICAgIHNldFByZXZpZXcodW5kZWZpbmVkKVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG9iamVjdFVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoc2VsZWN0ZWRGaWxlKVxyXG4gICAgICAgIHNldFByZXZpZXcob2JqZWN0VXJsKVxyXG5cclxuICAgICAgICAvLyBmcmVlIG1lbW9yeSB3aGVuIGV2ZXIgdGhpcyBjb21wb25lbnQgaXMgdW5tb3VudGVkXHJcbiAgICAgICAgcmV0dXJuICgpID0+IFVSTC5yZXZva2VPYmplY3RVUkwob2JqZWN0VXJsKVxyXG5cclxuICAgIH0sIFtzZWxlY3RlZEZpbGVdKVxyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICQoXCIubmFtZXNob3BcIikuY2hhbmdlKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGFsZXJ0KCBcInRlc3RcIiApO1xyXG4gICAgICB9KTtcclxuICAgIH0sIFtdKVxyXG5cclxuICBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XHJcbiAgICAvL2FsZXJ0KGRhdGEuZGVzY3JpcHRpb24pXHJcbiAgICAvLyBzZXQgdGhlIGtleSA9IHRvIHRoZSBuYW1lIHByb3BlcnR5IGVxdWFsIHRvIHRoZSB2YWx1ZSB0eXBlZFxyXG4gICAgY29uc3QgdXBkYXRlSXRlbSA9IChkYXRhW2UudGFyZ2V0Lm5hbWVdID0gZS50YXJnZXQudmFsdWUpO1xyXG4gICAgLy8gdXBkYXRlIHRoZSBzdGF0ZSBkYXRhIG9iamVjdFxyXG4gICAgc2V0RGF0YSh7IC4uLmRhdGEsIHVwZGF0ZUl0ZW0gfSk7XHJcblxyXG4gICAgLypNeVN3YWwuZmlyZSh7XHJcbiAgICAgIHRpdGxlOiA8cD5IZWxsbyBXb3JsZDwvcD4sXHJcbiAgICAgIGZvb3RlcjogJ0NvcHlyaWdodCAyMDE4JyxcclxuICAgICAgZGlkT3BlbjogKCkgPT4ge1xyXG4gICAgICAgIC8vIGBNeVN3YWxgIGlzIGEgc3ViY2xhc3Mgb2YgYFN3YWxgXHJcbiAgICAgICAgLy8gICB3aXRoIGFsbCB0aGUgc2FtZSBpbnN0YW5jZSAmIHN0YXRpYyBtZXRob2RzXHJcbiAgICAgICAgTXlTd2FsLmNsaWNrQ29uZmlybSgpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIHJldHVybiBNeVN3YWwuZmlyZSg8cD5TaG9ydGhhbmQgd29ya3MgdG9vPC9wPilcclxuICAgIH0pKi9cclxuICAgIFxyXG4gIH1cclxuXHJcbiAgLy9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3ZhbGlkYXRlZEN1c3RvbUZpbGVcIikub25jaGFuZ2UgPSBmdW5jdGlvbigpe1xyXG4gICAgZnVuY3Rpb24gb25DaGFuZ2VGKGUpIHtcclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmaWxlLW5hbWVcIikudGV4dENvbnRlbnQgPSBlLnRhcmdldC5maWxlc1swXS5uYW1lO1xyXG4gICAgICBpZiAoIWUudGFyZ2V0LmZpbGVzIHx8IGUudGFyZ2V0LmZpbGVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHNldFNlbGVjdGVkRmlsZSh1bmRlZmluZWQpXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuICAgICAgLy8gSSd2ZSBrZXB0IHRoaXMgZXhhbXBsZSBzaW1wbGUgYnkgdXNpbmcgdGhlIGZpcnN0IGltYWdlIGluc3RlYWQgb2YgbXVsdGlwbGVcclxuICAgICAgc2V0U2VsZWN0ZWRGaWxlKGUudGFyZ2V0LmZpbGVzWzBdKVxyXG4gICAgfVxyXG4gIC8vfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBzdWJtaXRBZGRSZXN0YXVyYW50KGV2ZW50KSB7XHJcbiAgICAgIC8vYWxlcnQoZGF0YS5kZXNjcmlwdGlvbik7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgLy8gLy8gVXNlIGVsZW1lbnRzLmdldEVsZW1lbnQgdG8gZ2V0IGEgcmVmZXJlbmNlIHRvIHRoZSBtb3VudGVkIEVsZW1lbnQuXHJcbiAgICAvL2NvbnN0IGNhcmRFbGVtZW50ID0gZWxlbWVudHMuZ2V0RWxlbWVudChDYXJkRWxlbWVudCk7XHJcblxyXG4gICAgLy8gLy8gUGFzcyB0aGUgRWxlbWVudCBkaXJlY3RseSB0byBvdGhlciBTdHJpcGUuanMgbWV0aG9kczpcclxuICAgIC8vIC8vIGUuZy4gY3JlYXRlVG9rZW4gLSBodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy90b2tlbnNfc291cmNlcy9jcmVhdGVfdG9rZW4/dHlwZT1jYXJkRWxlbWVudFxyXG4gICAgLy8gZ2V0IHRva2VuIGJhY2sgZnJvbSBzdHJpcGUgdG8gcHJvY2VzcyBjcmVkaXQgY2FyZFxyXG4gICAgLy9jb25zdCB0b2tlbiA9IGF3YWl0IHN0cmlwZS5jcmVhdGVUb2tlbihjYXJkRWxlbWVudCk7XHJcbiAgICAvL2NvbnN0IHVzZXJUb2tlbiA9IENvb2tpZXMuZ2V0KFwidG9rZW5cIik7XHJcbiAgICBpZihkYXRhLm5hbWVzaG9wID09IFwiXCIpe1xyXG4gICAgICBcclxuICAgICAgTXlTd2FsLmZpcmUoe1xyXG4gICAgICBpY29uOiAnZXJyb3InLFxyXG4gICAgICAvL3RpdGxlOiAnT29wcy4uLicsXHJcbiAgICAgIHRleHQ6ICfguIHguKPguLjguJPguLLguIHguKPguK3guIHguIrguLfguYjguK3guKPguYnguLLguJknLFxyXG4gICAgICBvbkFmdGVyQ2xvc2U6ICgpID0+IHtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFtuYW1lPSduYW1lc2hvcCddXCIpLmZvY3VzKCksIDExMCk7XHJcbiAgICAgIH1cclxuICAgICAgLy9mb290ZXI6ICc8YSBocmVmPldoeSBkbyBJIGhhdmUgdGhpcyBpc3N1ZT88L2E+J1xyXG4gICAgICB9KVxyXG4gICAgICBcclxuICAgIH1cclxuICAgIGVsc2UgaWYoZGF0YS5kZXNjcmlwdGlvbiA9PSBcIlwiKXtcclxuICAgICAgTXlTd2FsLmZpcmUoe1xyXG4gICAgICAgIGljb246ICdlcnJvcicsXHJcbiAgICAgICAgLy90aXRsZTogJ09vcHMuLi4nLFxyXG4gICAgICAgIHRleHQ6ICfguIHguKPguLjguJPguLLguIHguKPguK3guIHguKPguLLguKLguKXguLDguYDguK3guLXguKLguJTguKPguYnguLLguJknLFxyXG4gICAgICAgIC8vZm9vdGVyOiAnPGEgaHJlZj5XaHkgZG8gSSBoYXZlIHRoaXMgaXNzdWU/PC9hPidcclxuICAgICAgfSlcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG4gICAgZXZlbnQudGFyZ2V0LmRpc2FibGVkPXRydWU7XHJcbiAgICBjb25zdCBmaWxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaW5wdXRbbmFtZT0naW1hZ2UnXVwiKTtcclxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcblx0XHRcclxuICAgIGZvcm1EYXRhLmFwcGVuZCgnZGF0YScsIEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgbmFtZTogZGF0YS5uYW1lc2hvcCxcclxuICAgICAgZGVzY3JpcHRpb246IGRhdGEuZGVzY3JpcHRpb24sXHJcbiAgICB9KSk7XHJcbiAgICBpZiAoZmlsZUlucHV0LmZpbGVzWzBdKSB7XHJcbiAgICAgIGZvcm1EYXRhLmFwcGVuZChgZmlsZXMuaW1hZ2VgLCBmaWxlSW5wdXQuZmlsZXNbMF0sIGZpbGVJbnB1dC5maWxlc1swXS5uYW1lKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTH0vcmVzdGF1cmFudHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIC8vaGVhZGVyczogdXNlclRva2VuICYmIHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3VzZXJUb2tlbn1gIH0sXHJcbiAgICAgIC8vaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9LFxyXG4gICAgICAvL2hlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnfSxcclxuICAgICAgLy9oZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfSxcclxuXHJcbiAgICAgIC8qYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IGRhdGEubmFtZXNob3AsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IGRhdGEuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgYW1vdW50OiBOdW1iZXIoTWF0aC5yb3VuZChhcHBDb250ZXh0LmNhcnQudG90YWwgKyBcImUyXCIpICsgXCJlLTJcIiksXHJcbiAgICAgICAgZGlzaGVzOiBhcHBDb250ZXh0LmNhcnQuaXRlbXMsXHJcbiAgICAgICAgYWRkcmVzczogZGF0YS5hZGRyZXNzLFxyXG4gICAgICAgIGNpdHk6IGRhdGEuY2l0eSxcclxuICAgICAgICBzdGF0ZTogZGF0YS5zdGF0ZSxcclxuICAgICAgICB0b2tlbjogdG9rZW4udG9rZW4uaWQsXHJcbiAgICAgIH0pLCovXHJcbiAgICAgIFxyXG4gICAgICBib2R5OiBmb3JtRGF0YVxyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgc2V0RXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICBNeVN3YWwuZmlyZSh7XHJcbiAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLFxyXG4gICAgICAgIHRleHQ6ICfguYDguJ7guLTguYjguKHguILguYnguK3guKHguLnguKXguKPguYnguLLguJnguYDguKPguLXguKLguJrguKPguYnguK3guKInLFxyXG4gICAgICAgIGFsbG93T3V0c2lkZUNsaWNrOiBmYWxzZVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgUm91dGVyLnB1c2goXCIvXCIpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyBPVEhFUiBzdHJpcGUgbWV0aG9kcyB5b3UgY2FuIHVzZSBkZXBlbmRpbmcgb24gYXBwXHJcbiAgICAvLyAvLyBvciBjcmVhdGVQYXltZW50TWV0aG9kIC0gaHR0cHM6Ly9zdHJpcGUuY29tL2RvY3MvanMvcGF5bWVudF9pbnRlbnRzL2NyZWF0ZV9wYXltZW50X21ldGhvZFxyXG4gICAgLy8gc3RyaXBlLmNyZWF0ZVBheW1lbnRNZXRob2Qoe1xyXG4gICAgLy8gICB0eXBlOiBcImNhcmRcIixcclxuICAgIC8vICAgY2FyZDogY2FyZEVsZW1lbnQsXHJcbiAgICAvLyB9KTtcclxuXHJcbiAgICAvLyAvLyBvciBjb25maXJtQ2FyZFBheW1lbnQgLSBodHRwczovL3N0cmlwZS5jb20vZG9jcy9qcy9wYXltZW50X2ludGVudHMvY29uZmlybV9jYXJkX3BheW1lbnRcclxuICAgIC8vIHN0cmlwZS5jb25maXJtQ2FyZFBheW1lbnQocGF5bWVudEludGVudENsaWVudFNlY3JldCwge1xyXG4gICAgLy8gICBwYXltZW50X21ldGhvZDoge1xyXG4gICAgLy8gICAgIGNhcmQ6IGNhcmRFbGVtZW50LFxyXG4gICAgLy8gICB9LFxyXG4gICAgLy8gfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYXBlclwiPlxyXG5cclxuICAgICAgPGg1PuC4o+C4suC4ouC4peC4sOC5gOC4reC4teC4ouC4lOC4o+C5ieC4suC4mSA6PC9oNT5cclxuICAgICAgPGhyIC8+XHJcbiAgICAgIDxGb3JtR3JvdXAgc3R5bGU9e3sgZGlzcGxheTogXCJmbGV4XCIgfX0+XHJcbiAgICAgICAgPGRpdiBzdHlsZT17eyBmbGV4OiBcIjAuOTBcIiwgbWFyZ2luUmlnaHQ6IDEwIH19PlxyXG4gICAgICAgICAgPExhYmVsPuC4iuC4t+C5iOC4reC4o+C5ieC4suC4mTwvTGFiZWw+XHJcbiAgICAgICAgICA8SW5wdXQgc3R5bGU9e3t3aWR0aDogMjAwfX0gbmFtZT1cIm5hbWVzaG9wXCIgb25DaGFuZ2U9e29uQ2hhbmdlfSAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L0Zvcm1Hcm91cD5cclxuICAgICAgPEZvcm1Hcm91cCBzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiB9fT5cclxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGZsZXg6IFwiMC42NVwiLCBtYXJnaW5SaWdodDogXCI2JVwiIH19PlxyXG4gICAgICAgICAgPExhYmVsPuC4oOC4suC4njwvTGFiZWw+XHJcblxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImN1c3RvbS1maWxlXCI+XHJcbiAgICAgICAgICA8SW5wdXQgdHlwZT1cImZpbGVcIiBuYW1lPVwiaW1hZ2VcIiBvbkNoYW5nZT17b25DaGFuZ2VGfSBjbGFzcz1cImN1c3RvbS1maWxlLWlucHV0XCIgaWQ9XCJ2YWxpZGF0ZWRDdXN0b21GaWxlXCIgcmVxdWlyZWQgLz5cclxuICAgICAgICAgIDxsYWJlbCBpZD1cImZpbGUtbmFtZVwiIGNsYXNzPVwiY3VzdG9tLWZpbGUtbGFiZWxcIiBmb3I9XCJ2YWxpZGF0ZWRDdXN0b21GaWxlXCI+4LmA4Lil4Li34Lit4LiB4Lij4Li54Lib4Lig4Liy4LieLi4uPC9sYWJlbD5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnZhbGlkLWZlZWRiYWNrXCI+RXhhbXBsZSBpbnZhbGlkIGN1c3RvbSBmaWxlIGZlZWRiYWNrPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgc3R5bGU9e3ttYXJnaW5Ub3A6IDV9fT5cclxuICAgICAgICAgIHtzZWxlY3RlZEZpbGUgJiYgIDxpbWcgc3R5bGU9e3t3aWR0aDogXCIxMDAlXCJ9fSBzcmM9e3ByZXZpZXd9IC8+IH0gICAgIFxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvRm9ybUdyb3VwPlxyXG4gICAgICA8Rm9ybUdyb3VwIHN0eWxlPXt7IGRpc3BsYXk6IFwiZmxleFwiIH19PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgZmxleDogXCIwLjY1XCIsIG1hcmdpblJpZ2h0OiBcIjYlXCIgfX0+XHJcbiAgICAgICAgICA8TGFiZWw+4Lij4Liy4Lii4Lil4Liw4LmA4Lit4Li14Lii4LiUPC9MYWJlbD5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICA8Q2tlZGl0b3IgZGF0YT1cIlwiIHZhbHVlPVwidGVzdFwiIG9uQ2hhbmdlPXsodik9PiB7ZGF0YVsnZGVzY3JpcHRpb24nXSA9IHY7fX0gLz5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgXHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgXHJcbiAgICAgIDwvRm9ybUdyb3VwPlxyXG4gICAgICBcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJvcmRlci1idXR0b24td3JhcHBlclwiPlxyXG4gICAgICAgIDxidXR0b24gb25DbGljaz17c3VibWl0QWRkUmVzdGF1cmFudH0+XHJcbiAgICAgICAgICB7bG9hZGluZyA/IFwiTG9hZGluZy4uLiBcIiA6IFwi4LmA4Lie4Li04LmI4Lih4Lij4LmJ4Liy4LiZ4LiE4LmJ4LiyXCJ9XHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8c3R5bGUganN4IGdsb2JhbD5cclxuICAgICAgICB7YFxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgIC5wYXBlciB7XHJcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGxpZ2h0Z3JheTtcclxuICAgICAgICAgICAgYm94LXNoYWRvdzogMHB4IDFweCAzcHggMHB4IHJnYmEoMCwgMCwgMCwgMC4yKSxcclxuICAgICAgICAgICAgICAwcHggMXB4IDFweCAwcHggcmdiYSgwLCAwLCAwLCAwLjE0KSxcclxuICAgICAgICAgICAgICAwcHggMnB4IDFweCAtMXB4IHJnYmEoMCwgMCwgMCwgMC4xMik7XHJcbiAgICAgICAgICAgIGhlaWdodDogYXV0bztcclxuICAgICAgICAgICAgcGFkZGluZzogMzBweDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogI2ZmZjtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xyXG4gICAgICAgICAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLmZvcm0taGFsZiB7XHJcbiAgICAgICAgICAgIGZsZXg6IDAuNTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgICoge1xyXG4gICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYm9keSxcclxuICAgICAgICAgIGh0bWwge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjZmOWZjO1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2EgTmV1ZSwgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGgxIHtcclxuICAgICAgICAgICAgY29sb3I6ICMzMjMyNWQ7XHJcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7XHJcbiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiA1MHB4O1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDQwcHg7XHJcbiAgICAgICAgICAgIG1hcmdpbjogMjBweCAwO1xyXG4gICAgICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLkNoZWNrb3V0IHtcclxuICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICAgICAgICAgIG1heC13aWR0aDogODAwcHg7XHJcbiAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDAgNXB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgbGFiZWwge1xyXG4gICAgICAgICAgICBjb2xvcjogIzZiN2M5MztcclxuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDMwMDtcclxuICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuMDI1ZW07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBidXR0b24ge1xyXG4gICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xyXG4gICAgICAgICAgICBib3JkZXI6IDA7XHJcbiAgICAgICAgICAgIG91dGxpbmU6IDA7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICAgICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgICAgICAgICBsaW5lLWhlaWdodDogNDBweDtcclxuICAgICAgICAgICAgcGFkZGluZzogMCAxNHB4O1xyXG4gICAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCA2cHggcmdiYSg1MCwgNTAsIDkzLCAwLjExKSxcclxuICAgICAgICAgICAgICAwIDFweCAzcHggcmdiYSgwLCAwLCAwLCAwLjA4KTtcclxuICAgICAgICAgICAgY29sb3I6ICNmZmY7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxNXB4O1xyXG4gICAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gICAgICAgICAgICBsZXR0ZXItc3BhY2luZzogMC4wMjVlbTtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzY3NzJlNTtcclxuICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gICAgICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246IGFsbCAxNTBtcyBlYXNlO1xyXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMTUwbXMgZWFzZTtcclxuICAgICAgICAgICAgbWFyZ2luLXRvcDogMTBweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGZvcm0ge1xyXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA0MHB4O1xyXG4gICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogNDBweDtcclxuICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogM3B4IHNvbGlkICNlNmViZjE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBidXR0b246aG92ZXIge1xyXG4gICAgICAgICAgICBjb2xvcjogI2ZmZjtcclxuICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNzc5NWY4O1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTFweCk7XHJcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgN3B4IDE0cHggcmdiYSg1MCwgNTAsIDkzLCAwLjEpLFxyXG4gICAgICAgICAgICAgIDAgM3B4IDZweCByZ2JhKDAsIDAsIDAsIDAuMDgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGV4dGFyZWEge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYSAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgICBtYXJnaW46IDEwcHggMCAyMHB4IDA7XHJcbiAgICAgICAgICAgIG1heC13aWR0aDogNTAwcHg7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMTRweDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxZW07XHJcbiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBcIlNvdXJjZSBDb2RlIFByb1wiLCBtb25vc3BhY2U7XHJcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IHJnYmEoNTAsIDUwLCA5MywgMC4xNDkwMikgMHB4IDFweCAzcHgsXHJcbiAgICAgICAgICAgICAgcmdiYSgwLCAwLCAwLCAwLjAxOTYwNzgpIDBweCAxcHggMHB4O1xyXG4gICAgICAgICAgICBib3JkZXI6IDA7XHJcbiAgICAgICAgICAgIG91dGxpbmU6IDA7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICAgICAgICAgIHdpZHRoOiA0NDBweDtcclxuICAgICAgICAgICAgcmVzaXplOiB2ZXJ0aWNhbDtcclxuICAgICAgICAgICAgb3ZlcmZsb3c6IGF1dG87XHJcbiAgICAgICAgICAgIGhlaWdodDoxMjBweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlucHV0LFxyXG4gICAgICAgICAgLlN0cmlwZUVsZW1lbnQge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYSAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgICBtYXJnaW46IDEwcHggMCAyMHB4IDA7XHJcbiAgICAgICAgICAgIG1heC13aWR0aDogNTAwcHg7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMTRweDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxZW07XHJcbiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBcIlNvdXJjZSBDb2RlIFByb1wiLCBtb25vc3BhY2U7XHJcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IHJnYmEoNTAsIDUwLCA5MywgMC4xNDkwMikgMHB4IDFweCAzcHgsXHJcbiAgICAgICAgICAgICAgcmdiYSgwLCAwLCAwLCAwLjAxOTYwNzgpIDBweCAxcHggMHB4O1xyXG4gICAgICAgICAgICBib3JkZXI6IDA7XHJcbiAgICAgICAgICAgIG91dGxpbmU6IDA7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpbnB1dDo6cGxhY2Vob2xkZXIge1xyXG4gICAgICAgICAgICBjb2xvcjogI2FhYjdjNDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlucHV0OmZvY3VzLFxyXG4gICAgICAgICAgLlN0cmlwZUVsZW1lbnQtLWZvY3VzIHtcclxuICAgICAgICAgICAgYm94LXNoYWRvdzogcmdiYSg1MCwgNTAsIDkzLCAwLjEwOTgwNCkgMHB4IDRweCA2cHgsXHJcbiAgICAgICAgICAgICAgcmdiYSgwLCAwLCAwLCAwLjA3ODQzMTQpIDBweCAxcHggM3B4O1xyXG4gICAgICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246IGFsbCAxNTBtcyBlYXNlO1xyXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMTUwbXMgZWFzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5TdHJpcGVFbGVtZW50LklkZWFsQmFua0VsZW1lbnQsXHJcbiAgICAgICAgICAuU3RyaXBlRWxlbWVudC5QYXltZW50UmVxdWVzdEJ1dHRvbiB7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgYH1cclxuICAgICAgPC9zdHlsZT5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgQWRkUmVzRm9ybTsiXX0= */\\n/*@ sourceURL=C:\\\\\\\\xampp\\\\\\\\htdocs\\\\\\\\next-react-hooks-strapi-food-delivery\\\\\\\\frontend\\\\\\\\components\\\\\\\\RestaurantList\\\\\\\\AddResForm.js */\"));\n}\n\nexport default AddResForm;","map":{"version":3,"sources":["C:/xampp/htdocs/next-react-hooks-strapi-food-delivery/frontend/components/RestaurantList/AddResForm.js"],"names":["React","useState","useContext","useEffect","FormGroup","Label","Input","fetch","AppContext","dynamic","$","Swal","withReactContent","Router","Ckeditor","ssr","MySwal","AddResForm","data","setData","nameshop","description","error","setError","appContext","selectedFile","setSelectedFile","preview","setPreview","loading","setLoading","undefined","objectUrl","URL","createObjectURL","revokeObjectURL","change","alert","onChange","e","updateItem","target","name","value","onChangeF","document","querySelector","textContent","files","length","submitAddRestaurant","event","preventDefault","fire","icon","text","onAfterClose","setTimeout","focus","disabled","fileInput","formData","FormData","append","JSON","stringify","response","process","env","NEXT_PUBLIC_API_URL","method","body","ok","statusText","allowOutsideClick","then","push","display","flex","marginRight","width","marginTop","v"],"mappings":"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","sourcesContent":["/* /components/Checkout/CheckoutForm.js */\r\n\r\nimport React, { useState, useContext, useEffect } from \"react\";\r\n\r\nimport { FormGroup, Label, Input } from \"reactstrap\";\r\n\r\nimport fetch from \"isomorphic-fetch\";\r\n//import Cookies from \"js-cookie\";\r\n//import { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\r\n\r\n//import CardSection from \"./CardSection\";\r\nimport AppContext from \"../../context/AppContext\";\r\n//import Ckeditor from \"../ckeditor/Ckeditor\";\r\n//import Compotest from \"../ckeditor/Compotest\";\r\nimport dynamic from 'next/dynamic';\r\n\r\nimport $ from \"jquery\";\r\n\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\nimport Router from \"next/router\";\r\n\r\nconst Ckeditor = dynamic(() => import('../ckeditor/Ckeditor'), { ssr: false })\r\n\r\nconst MySwal = withReactContent(Swal);\r\n\r\nfunction AddResForm() {\r\n  const [data, setData] = useState({\r\n    nameshop: \"\",\r\n    description: \"\",\r\n  });\r\n  const [error, setError] = useState(\"\");\r\n  //const stripe = useStripe();\r\n  //const elements = useElements();\r\n  const appContext = useContext(AppContext);\r\n\r\n  const [selectedFile, setSelectedFile] = useState()\r\n  const [preview, setPreview] = useState()\r\n  const [loading, setLoading] = useState(false)\r\n\r\n    // create a preview as a side effect, whenever selected file is changed\r\n    useEffect(() => {\r\n        if (!selectedFile) {\r\n            setPreview(undefined)\r\n            return\r\n        }\r\n\r\n        const objectUrl = URL.createObjectURL(selectedFile)\r\n        setPreview(objectUrl)\r\n\r\n        // free memory when ever this component is unmounted\r\n        return () => URL.revokeObjectURL(objectUrl)\r\n\r\n    }, [selectedFile])\r\n\r\n    useEffect(() => {\r\n      $(\".nameshop\").change(function() {\r\n        alert( \"test\" );\r\n      });\r\n    }, [])\r\n\r\n  function onChange(e) {\r\n    //alert(data.description)\r\n    // set the key = to the name property equal to the value typed\r\n    const updateItem = (data[e.target.name] = e.target.value);\r\n    // update the state data object\r\n    setData({ ...data, updateItem });\r\n\r\n    /*MySwal.fire({\r\n      title: <p>Hello World</p>,\r\n      footer: 'Copyright 2018',\r\n      didOpen: () => {\r\n        // `MySwal` is a subclass of `Swal`\r\n        //   with all the same instance & static methods\r\n        MySwal.clickConfirm()\r\n      }\r\n    })\r\n    .then(() => {\r\n      return MySwal.fire(<p>Shorthand works too</p>)\r\n    })*/\r\n    \r\n  }\r\n\r\n  //document.querySelector(\"#validatedCustomFile\").onchange = function(){\r\n    function onChangeF(e) {\r\n      document.querySelector(\"#file-name\").textContent = e.target.files[0].name;\r\n      if (!e.target.files || e.target.files.length === 0) {\r\n        setSelectedFile(undefined)\r\n        return\r\n      }\r\n      // I've kept this example simple by using the first image instead of multiple\r\n      setSelectedFile(e.target.files[0])\r\n    }\r\n  //}\r\n\r\n  async function submitAddRestaurant(event) {\r\n      //alert(data.description);\r\n      event.preventDefault();\r\n\r\n    // // Use elements.getElement to get a reference to the mounted Element.\r\n    //const cardElement = elements.getElement(CardElement);\r\n\r\n    // // Pass the Element directly to other Stripe.js methods:\r\n    // // e.g. createToken - https://stripe.com/docs/js/tokens_sources/create_token?type=cardElement\r\n    // get token back from stripe to process credit card\r\n    //const token = await stripe.createToken(cardElement);\r\n    //const userToken = Cookies.get(\"token\");\r\n    if(data.nameshop == \"\"){\r\n      \r\n      MySwal.fire({\r\n      icon: 'error',\r\n      //title: 'Oops...',\r\n      text: 'กรุณากรอกชื่อร้าน',\r\n      onAfterClose: () => {\r\n        setTimeout(() => document.querySelector(\"input[name='nameshop']\").focus(), 110);\r\n      }\r\n      //footer: '<a href>Why do I have this issue?</a>'\r\n      })\r\n      \r\n    }\r\n    else if(data.description == \"\"){\r\n      MySwal.fire({\r\n        icon: 'error',\r\n        //title: 'Oops...',\r\n        text: 'กรุณากรอกรายละเอียดร้าน',\r\n        //footer: '<a href>Why do I have this issue?</a>'\r\n      })\r\n    }\r\n    else{\r\n    setLoading(true);\r\n    event.target.disabled=true;\r\n    const fileInput = document.querySelector(\"input[name='image']\");\r\n    const formData = new FormData();\r\n\t\t\r\n    formData.append('data', JSON.stringify({\r\n      name: data.nameshop,\r\n      description: data.description,\r\n    }));\r\n    if (fileInput.files[0]) {\r\n      formData.append(`files.image`, fileInput.files[0], fileInput.files[0].name);\r\n    }\r\n    const response = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/restaurants`, {\r\n      method: \"POST\",\r\n      //headers: userToken && { Authorization: `Bearer ${userToken}` },\r\n      //headers: {'Content-Type': 'application/json'},\r\n      //headers: {'Content-Type': 'multipart/form-data'},\r\n      //headers: {'Content-Type': 'application/x-www-form-urlencoded'},\r\n\r\n      /*body: JSON.stringify({\r\n        name: data.nameshop,\r\n        description: data.description,\r\n        amount: Number(Math.round(appContext.cart.total + \"e2\") + \"e-2\"),\r\n        dishes: appContext.cart.items,\r\n        address: data.address,\r\n        city: data.city,\r\n        state: data.state,\r\n        token: token.token.id,\r\n      }),*/\r\n      \r\n      body: formData\r\n\r\n    });\r\n\r\n    if (!response.ok) {\r\n      setError(response.statusText);\r\n    }\r\n    else{\r\n      MySwal.fire({\r\n        icon: 'success',\r\n        text: 'เพิ่มข้อมูลร้านเรียบร้อย',\r\n        allowOutsideClick: false\r\n      })\r\n      .then(() => {\r\n        Router.push(\"/\");\r\n      });\r\n    }\r\n    \r\n\r\n    }\r\n\r\n    // OTHER stripe methods you can use depending on app\r\n    // // or createPaymentMethod - https://stripe.com/docs/js/payment_intents/create_payment_method\r\n    // stripe.createPaymentMethod({\r\n    //   type: \"card\",\r\n    //   card: cardElement,\r\n    // });\r\n\r\n    // // or confirmCardPayment - https://stripe.com/docs/js/payment_intents/confirm_card_payment\r\n    // stripe.confirmCardPayment(paymentIntentClientSecret, {\r\n    //   payment_method: {\r\n    //     card: cardElement,\r\n    //   },\r\n    // });\r\n  }\r\n\r\n  return (\r\n    <div className=\"paper\">\r\n\r\n      <h5>รายละเอียดร้าน :</h5>\r\n      <hr />\r\n      <FormGroup style={{ display: \"flex\" }}>\r\n        <div style={{ flex: \"0.90\", marginRight: 10 }}>\r\n          <Label>ชื่อร้าน</Label>\r\n          <Input style={{width: 200}} name=\"nameshop\" onChange={onChange} />\r\n        </div>\r\n      </FormGroup>\r\n      <FormGroup style={{ display: \"flex\" }}>\r\n        <div style={{ flex: \"0.65\", marginRight: \"6%\" }}>\r\n          <Label>ภาพ</Label>\r\n\r\n          <div class=\"custom-file\">\r\n          <Input type=\"file\" name=\"image\" onChange={onChangeF} class=\"custom-file-input\" id=\"validatedCustomFile\" required />\r\n          <label id=\"file-name\" class=\"custom-file-label\" for=\"validatedCustomFile\">เลือกรูปภาพ...</label>\r\n          <div class=\"invalid-feedback\">Example invalid custom file feedback</div>\r\n          </div>\r\n          <div style={{marginTop: 5}}>\r\n          {selectedFile &&  <img style={{width: \"100%\"}} src={preview} /> }     \r\n          </div>\r\n        </div>\r\n      </FormGroup>\r\n      <FormGroup style={{ display: \"flex\" }}>\r\n        <div style={{ flex: \"0.65\", marginRight: \"6%\" }}>\r\n          <Label>รายละเอียด</Label>\r\n          \r\n          \r\n          <Ckeditor data=\"\" value=\"test\" onChange={(v)=> {data['description'] = v;}} />\r\n          \r\n          \r\n        </div>\r\n        \r\n      </FormGroup>\r\n      \r\n      <div className=\"order-button-wrapper\">\r\n        <button onClick={submitAddRestaurant}>\r\n          {loading ? \"Loading... \" : \"เพิ่มร้านค้า\"}\r\n        </button>\r\n      </div>\r\n      <style jsx global>\r\n        {`\r\n            \r\n          .paper {\r\n            border: 1px solid lightgray;\r\n            box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n              0px 1px 1px 0px rgba(0, 0, 0, 0.14),\r\n              0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n            height: auto;\r\n            padding: 30px;\r\n            background: #fff;\r\n            border-radius: 6px;\r\n            margin-top: 10px;\r\n            margin-bottom: 10px;\r\n          }\r\n          .form-half {\r\n            flex: 0.5;\r\n          }\r\n          * {\r\n            box-sizing: border-box;\r\n          }\r\n          body,\r\n          html {\r\n            background-color: #f6f9fc;\r\n            font-size: 18px;\r\n            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\r\n          }\r\n          h1 {\r\n            color: #32325d;\r\n            font-weight: 400;\r\n            line-height: 50px;\r\n            font-size: 40px;\r\n            margin: 20px 0;\r\n            padding: 0;\r\n          }\r\n          .Checkout {\r\n            margin: 0 auto;\r\n            max-width: 800px;\r\n            box-sizing: border-box;\r\n            padding: 0 5px;\r\n          }\r\n          label {\r\n            color: #6b7c93;\r\n            font-weight: 300;\r\n            letter-spacing: 0.025em;\r\n          }\r\n          button {\r\n            white-space: nowrap;\r\n            border: 0;\r\n            outline: 0;\r\n            display: inline-block;\r\n            height: 40px;\r\n            line-height: 40px;\r\n            padding: 0 14px;\r\n            box-shadow: 0 4px 6px rgba(50, 50, 93, 0.11),\r\n              0 1px 3px rgba(0, 0, 0, 0.08);\r\n            color: #fff;\r\n            border-radius: 4px;\r\n            font-size: 15px;\r\n            font-weight: 600;\r\n            text-transform: uppercase;\r\n            letter-spacing: 0.025em;\r\n            background-color: #6772e5;\r\n            text-decoration: none;\r\n            -webkit-transition: all 150ms ease;\r\n            transition: all 150ms ease;\r\n            margin-top: 10px;\r\n          }\r\n          form {\r\n            margin-bottom: 40px;\r\n            padding-bottom: 40px;\r\n            border-bottom: 3px solid #e6ebf1;\r\n          }\r\n          button:hover {\r\n            color: #fff;\r\n            cursor: pointer;\r\n            background-color: #7795f8;\r\n            transform: translateY(-1px);\r\n            box-shadow: 0 7px 14px rgba(50, 50, 93, 0.1),\r\n              0 3px 6px rgba(0, 0, 0, 0.08);\r\n          }\r\n          textarea {\r\n            display: block;\r\n            background-color: #f8f9fa !important;\r\n            margin: 10px 0 20px 0;\r\n            max-width: 500px;\r\n            padding: 10px 14px;\r\n            font-size: 1em;\r\n            font-family: \"Source Code Pro\", monospace;\r\n            box-shadow: rgba(50, 50, 93, 0.14902) 0px 1px 3px,\r\n              rgba(0, 0, 0, 0.0196078) 0px 1px 0px;\r\n            border: 0;\r\n            outline: 0;\r\n            border-radius: 4px;\r\n            background: white;\r\n            width: 440px;\r\n            resize: vertical;\r\n            overflow: auto;\r\n            height:120px;\r\n          }\r\n          input,\r\n          .StripeElement {\r\n            display: block;\r\n            background-color: #f8f9fa !important;\r\n            margin: 10px 0 20px 0;\r\n            max-width: 500px;\r\n            padding: 10px 14px;\r\n            font-size: 1em;\r\n            font-family: \"Source Code Pro\", monospace;\r\n            box-shadow: rgba(50, 50, 93, 0.14902) 0px 1px 3px,\r\n              rgba(0, 0, 0, 0.0196078) 0px 1px 0px;\r\n            border: 0;\r\n            outline: 0;\r\n            border-radius: 4px;\r\n            background: white;\r\n          }\r\n          input::placeholder {\r\n            color: #aab7c4;\r\n          }\r\n          input:focus,\r\n          .StripeElement--focus {\r\n            box-shadow: rgba(50, 50, 93, 0.109804) 0px 4px 6px,\r\n              rgba(0, 0, 0, 0.0784314) 0px 1px 3px;\r\n            -webkit-transition: all 150ms ease;\r\n            transition: all 150ms ease;\r\n          }\r\n          .StripeElement.IdealBankElement,\r\n          .StripeElement.PaymentRequestButton {\r\n            padding: 0;\r\n          }\r\n        `}\r\n      </style>\r\n    </div>\r\n  );\r\n}\r\nexport default AddResForm;"]},"metadata":{},"sourceType":"module"}