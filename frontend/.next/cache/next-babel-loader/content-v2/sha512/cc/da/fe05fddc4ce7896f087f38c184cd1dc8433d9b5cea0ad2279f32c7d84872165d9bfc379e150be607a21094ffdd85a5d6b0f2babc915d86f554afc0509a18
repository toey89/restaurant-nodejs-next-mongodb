{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\next-react-hooks-strapi-food-delivery\\\\frontend\\\\components\\\\RestaurantList\\\\index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/* components/RestaurantList/index.js */\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { gql } from \"apollo-boost\";\nimport Link from \"next/link\";\nimport { Card, CardBody, CardImg, CardText, CardTitle, Row, Col } from \"reactstrap\";\nimport React, { useState, useEffect } from 'react';\nimport ReactPaginate from 'react-paginate';\nimport Router, { withRouter, useRouter } from 'next/router';\nimport queryString from 'query-string';\nimport axios from 'axios';\nconst QUERY = gql`\n    query restaurants($start: Int, $limit: Int, $name : String!) {\n      \n      restaurants(start: $start, limit: $limit, where: { name_contains: $name }) {\n          id\n          name\n          description\n          image {\n            url\n          }\n      }\n    }\n`;\n\nfunction RestaurantList(props) {\n  const [Wholeres, setWholeres] = React.useState(0);\n  var {\n    0: Alreadysearch,\n    1: setAlreadysearch\n  } = useState(0);\n  const router = useRouter();\n  const {\n    page\n  } = router.query;\n  /*const starte = 0;\r\n  if({page} == 2){\r\n    const starte = 5;\r\n  }\r\n  else{\r\n    const starte = 0;\r\n  }*/\n\n  const {\n    loading,\n    error,\n    data,\n    fetchMore\n  } = useQuery(QUERY, {\n    variables: {\n      //date: date,\n      //offset: 0,\n      start: 0,\n      limit: 10,\n      name: props.search //limit: 10,\n      //start: starte,\n      //resellIndex: resellFilter,\n      //brandCategorieName: brandFilter\n\n    }\n  });\n  if (error) return \"Error loading restaurants\"; //if restaurants are returned from the GraphQL query, run the filter query\n  //and set equal to variable restaurantSearch\n\n  if (loading) return __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 23\n    }\n  }, \"Fetching\"); //setWholeres(data.restaurants.length);\n\n  axios.get(`http://localhost:1337/restaurants/count/?name_contains=${props.search}`).then(response => {\n    const restau = response.data;\n    setWholeres(restau); //alert(restau);\n\n    console.log(restau);\n  }, error => {\n    console.log(error);\n  });\n  var pageCount = Wholeres / 10;\n\n  if (pageCount < 1) {\n    pageCount = 1;\n  } //alert(pageCount);\n  //const pageCount = 5;\n  //alert(allp.data.code);\n\n\n  if (data.restaurants && data.restaurants.length) {\n    //searchQuery\n    const searchQuery = data.restaurants.filter(query => query.name.toLowerCase().includes(props.search)); //setWholeres(data.restaurants.length);\n    //const pageCount = Wholeres / 10;\n\n    if (searchQuery.length != 0) {\n      if (props.search != \"\") {\n        setAlreadysearch(1);\n        alert(\"test\");\n      }\n\n      const pagginationHandler = page => {\n        const currentPath = router.pathname;\n\n        const currentQuery = _objectSpread({}, router.query);\n\n        currentQuery.page = page.selected + 1; //alert(page.selected);\n        //console.log(page.selected);\n\n        router.push({\n          pathname: currentPath //query: currentQuery,\n\n        }); ////reset page to the first page when search is not a first page\n\n        /*if(props.search != \"\" && page.selected != 0){\r\n          setAlreadysearch(1);\r\n        }\r\n          if(Alreadysearch == 1 && props.search == \"\"){\r\n          var starte = 0;\r\n          Router.push(\"/\");\r\n        }\r\n        else{\r\n          var starte = 10 * (page.selected + 1) - 10;\r\n        }*/\n\n        fetchMore({\n          variables: {\n            //start: data.restaurants.length * currentQuery.page - 10,\n            start: 10 * (page.selected + 1) - 10,\n            limit: 10,\n            name: props.search\n          },\n          updateQuery: (prev, {\n            fetchMoreResult\n          }) => {\n            //setWholeres(searchQuery.length);\n            if (!fetchMoreResult) return prev;\n            return Object.assign({}, prev, {\n              //restaurants: [...prev.restaurants, ...fetchMoreResult.restaurants]\n              restaurants: [...fetchMoreResult.restaurants]\n            });\n          }\n        });\n      }; //const pageCount = searchQuery.length / 10;\n      //setWholeres(searchQuery.length);\n      //const pageCount = Wholeres / 10;\n      //const pageCount = 5;\n      //const pageCount = data.restaurants.length / 10;\n\n      /*const pagginationHandler = (page) => {\r\n        const currentPath = router.pathname;\r\n        const currentQuery = { ...router.query };\r\n        currentQuery.page = page.selected + 1;\r\n        //alert(currentQuery.page);\r\n        router.push({\r\n            pathname: currentPath,\r\n            query: currentQuery,\r\n        });\r\n        \r\n        //use state to keep  the searchQuery.length val()///////\r\n        \r\n        fetchMore({\r\n          variables: {\r\n            //start: data.restaurants.length * currentQuery.page - 10,\r\n            start: 10 * currentQuery.page - 10,\r\n            limit: 10,\r\n            name: props.search,\r\n          },\r\n          updateQuery: (prev, { fetchMoreResult }) => {\r\n            setWholeres(searchQuery.length);\r\n            if (!fetchMoreResult) return prev;\r\n            return Object.assign({}, prev, {\r\n              //restaurants: [...prev.restaurants, ...fetchMoreResult.restaurants]\r\n              restaurants: [...fetchMoreResult.restaurants]\r\n            });\r\n          }\r\n        })\r\n        \r\n      };*/\n      //const {page} = router.query;\n      //const content = {page};\n\n      /*const page = 1;\r\n      const currentQuery = { ...router.query };\r\n      currentQuery.page = page.selected + 1;\r\n      const content = currentQuery.page;*/\n      //alert(pageCount);\n\n\n      return __jsx(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 9\n        }\n      }, __jsx(\"div\", {\n        style: {\n          marginRight: 40,\n          marginTop: 0\n        },\n        className: \"jsx-2274621739\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }\n      }, __jsx(\"h2\", {\n        className: \"jsx-2274621739\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 15\n        }\n      }, \"\\u0E23\\u0E49\\u0E32\\u0E19\\u0E2D\\u0E32\\u0E2B\\u0E32\\u0E23\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14 (All of Restaurants)>>\")), __jsx(\"p\", {\n        className: \"jsx-2274621739\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }\n      }, __jsx(Link, {\n        as: `/addrestaurant/`,\n        href: `/addrestaurants/`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 15\n        }\n      }, __jsx(\"a\", {\n        className: \"jsx-2274621739\" + \" \" + \"btn btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 21\n        }\n      }, \"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E23\\u0E49\\u0E32\\u0E19\\u0E2D\\u0E32\\u0E2B\\u0E32\\u0E23\"))), __jsx(\"div\", {\n        style: {\n          marginBottom: 20\n        },\n        className: \"jsx-2274621739\" + \" \" + \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }\n      }, __jsx(ReactPaginate, {\n        previousLabel: 'previous',\n        nextLabel: 'next',\n        breakLabel: '...',\n        breakClassName: 'break-me',\n        activeClassName: 'active',\n        containerClassName: 'pagination',\n        subContainerClassName: 'pages pagination',\n        initialPage: 1 - 1,\n        pageCount: pageCount //page count\n        ,\n        marginPagesDisplayed: 2,\n        pageRangeDisplayed: 5,\n        onPageChange: pagginationHandler,\n        disableInitialCallback: true,\n        activeLinkClassName: 'active',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }\n      })), searchQuery.map(res => __jsx(Col, {\n        xs: \"6\",\n        sm: \"4\",\n        key: res.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 13\n        }\n      }, __jsx(Card, {\n        style: {\n          margin: \"0 0.5rem 20px 0.5rem\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 15\n        }\n      }, __jsx(CardImg, {\n        top: true,\n        style: {\n          height: 250\n        },\n        src: false ? res.image[0] != null ? res.image[0].url : `https://strapiuploadtoey.s3.amazonaws.com/istockphoto_922962354_612x612_0f5a0eabc4.jpg` : res.image[0] != null ? `${process.env.NEXT_PUBLIC_API_URL}${res.image[0].url}` : `${process.env.NEXT_PUBLIC_API_URL}/uploads/istockphoto-922962354-612x612.jpg`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 17\n        }\n      }), __jsx(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 17\n        }\n      }, __jsx(CardTitle, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 19\n        }\n      }, res.name), __jsx(CardText, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 19\n        }\n      }, res.description)), __jsx(\"div\", {\n        className: \"jsx-2274621739\" + \" \" + \"card-footer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 17\n        }\n      }, __jsx(Link, {\n        as: `/restaurants/${res.id}`,\n        href: `/restaurants?id=${res.id}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 19\n        }\n      }, __jsx(\"a\", {\n        className: \"jsx-2274621739\" + \" \" + \"btn btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 21\n        }\n      }, \"View\")))))), __jsx(_JSXStyle, {\n        id: \"2274621739\",\n        __self: this,\n        __source: void 0\n      }, \".card-columns{-webkit-column-count:3;column-count:3;}.posts{min-height:400px;}.pagination{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;list-style:none;height:40px;border:1px solid black;border-radius:5px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0;margin-top:40px;}a{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;padding:0 10px;cursor:pointer;color:black;}a:hover{-webkit-text-decoration:underline;text-decoration:underline;}.active a{font-weight:bold;-webkit-text-decoration:underline;text-decoration:underline;pointer-events:none;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFx4YW1wcFxcaHRkb2NzXFxuZXh0LXJlYWN0LWhvb2tzLXN0cmFwaS1mb29kLWRlbGl2ZXJ5XFxmcm9udGVuZFxcY29tcG9uZW50c1xcUmVzdGF1cmFudExpc3RcXGluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW1RYSxBQWFnQyxBQVFFLEFBR0osQUFZQSxBQVFhLEFBR1QsaUJBekJuQixBQTBCd0IscUJBbEN4QixzQkErQkEsY0FwQmtCLEFBWUcsR0FZSCxhQXZCSixPQXdCZCxLQXZCeUIsdUJBQ0wsa0JBQ0Esd0JBU04sWUFDRyxlQUNBLGVBQ0gsQ0FYTyxXQVlyQixrRkFYWSxVQUNNLGdCQUVsQiIsImZpbGUiOiJDOlxceGFtcHBcXGh0ZG9jc1xcbmV4dC1yZWFjdC1ob29rcy1zdHJhcGktZm9vZC1kZWxpdmVyeVxcZnJvbnRlbmRcXGNvbXBvbmVudHNcXFJlc3RhdXJhbnRMaXN0XFxpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGNvbXBvbmVudHMvUmVzdGF1cmFudExpc3QvaW5kZXguanMgKi9cclxuaW1wb3J0IHsgdXNlUXVlcnkgfSBmcm9tIFwiQGFwb2xsby9yZWFjdC1ob29rc1wiO1xyXG5pbXBvcnQgeyBncWwgfSBmcm9tIFwiYXBvbGxvLWJvb3N0XCI7XHJcblxyXG5pbXBvcnQgTGluayBmcm9tIFwibmV4dC9saW5rXCI7XHJcblxyXG5pbXBvcnQge1xyXG4gIENhcmQsXHJcbiAgQ2FyZEJvZHksXHJcbiAgQ2FyZEltZyxcclxuICBDYXJkVGV4dCxcclxuICBDYXJkVGl0bGUsXHJcbiAgUm93LFxyXG4gIENvbCxcclxufSBmcm9tIFwicmVhY3RzdHJhcFwiO1xyXG5cclxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBSZWFjdFBhZ2luYXRlIGZyb20gJ3JlYWN0LXBhZ2luYXRlJztcclxuaW1wb3J0IFJvdXRlciwgeyB3aXRoUm91dGVyLCB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcidcclxuaW1wb3J0IHF1ZXJ5U3RyaW5nIGZyb20gJ3F1ZXJ5LXN0cmluZydcclxuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcclxuXHJcbmNvbnN0IFFVRVJZID0gZ3FsYFxyXG4gICAgcXVlcnkgcmVzdGF1cmFudHMoJHN0YXJ0OiBJbnQsICRsaW1pdDogSW50LCAkbmFtZSA6IFN0cmluZyEpIHtcclxuICAgICAgXHJcbiAgICAgIHJlc3RhdXJhbnRzKHN0YXJ0OiAkc3RhcnQsIGxpbWl0OiAkbGltaXQsIHdoZXJlOiB7IG5hbWVfY29udGFpbnM6ICRuYW1lIH0pIHtcclxuICAgICAgICAgIGlkXHJcbiAgICAgICAgICBuYW1lXHJcbiAgICAgICAgICBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgaW1hZ2Uge1xyXG4gICAgICAgICAgICB1cmxcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5gO1xyXG5cclxuZnVuY3Rpb24gUmVzdGF1cmFudExpc3QocHJvcHMpIHtcclxuICBjb25zdCBbV2hvbGVyZXMsIHNldFdob2xlcmVzXSA9IFJlYWN0LnVzZVN0YXRlKDApO1xyXG4gIHZhciBbQWxyZWFkeXNlYXJjaCwgc2V0QWxyZWFkeXNlYXJjaF0gPSB1c2VTdGF0ZSgwKTtcclxuXHJcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XHJcbiAgY29uc3Qge3BhZ2V9ID0gcm91dGVyLnF1ZXJ5O1xyXG4gIC8qY29uc3Qgc3RhcnRlID0gMDtcclxuICBpZih7cGFnZX0gPT0gMil7XHJcbiAgICBjb25zdCBzdGFydGUgPSA1O1xyXG4gIH1cclxuICBlbHNle1xyXG4gICAgY29uc3Qgc3RhcnRlID0gMDtcclxuICB9Ki9cclxuICBjb25zdCB7IGxvYWRpbmcsIGVycm9yLCBkYXRhLCBmZXRjaE1vcmUgfSA9IHVzZVF1ZXJ5KFFVRVJZLCB7XHJcbiAgICB2YXJpYWJsZXM6IHtcclxuICAgICAgLy9kYXRlOiBkYXRlLFxyXG4gICAgICAvL29mZnNldDogMCxcclxuICAgICAgc3RhcnQ6IDAsXHJcbiAgICAgIGxpbWl0OiAxMCxcclxuICAgICAgbmFtZTogcHJvcHMuc2VhcmNoLFxyXG4gICAgICAvL2xpbWl0OiAxMCxcclxuICAgICAgLy9zdGFydDogc3RhcnRlLFxyXG4gICAgICAvL3Jlc2VsbEluZGV4OiByZXNlbGxGaWx0ZXIsXHJcbiAgICAgIC8vYnJhbmRDYXRlZ29yaWVOYW1lOiBicmFuZEZpbHRlclxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBpZiAoZXJyb3IpIHJldHVybiBcIkVycm9yIGxvYWRpbmcgcmVzdGF1cmFudHNcIjtcclxuICAvL2lmIHJlc3RhdXJhbnRzIGFyZSByZXR1cm5lZCBmcm9tIHRoZSBHcmFwaFFMIHF1ZXJ5LCBydW4gdGhlIGZpbHRlciBxdWVyeVxyXG4gIC8vYW5kIHNldCBlcXVhbCB0byB2YXJpYWJsZSByZXN0YXVyYW50U2VhcmNoXHJcbiAgaWYgKGxvYWRpbmcpIHJldHVybiA8aDE+RmV0Y2hpbmc8L2gxPjtcclxuICBcclxuICAvL3NldFdob2xlcmVzKGRhdGEucmVzdGF1cmFudHMubGVuZ3RoKTtcclxuIGF4aW9zLmdldChgaHR0cDovL2xvY2FsaG9zdDoxMzM3L3Jlc3RhdXJhbnRzL2NvdW50Lz9uYW1lX2NvbnRhaW5zPSR7cHJvcHMuc2VhcmNofWApXHJcbiAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgY29uc3QgcmVzdGF1ID1yZXNwb25zZS5kYXRhO1xyXG4gICAgc2V0V2hvbGVyZXMocmVzdGF1KTtcclxuICAgIC8vYWxlcnQocmVzdGF1KTtcclxuICAgIGNvbnNvbGUubG9nKHJlc3RhdSk7XHJcbiAgfSwgZXJyb3IgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gIH0pO1xyXG4gIFxyXG4gIHZhciBwYWdlQ291bnQgPSBXaG9sZXJlcyAvIDEwO1xyXG4gIGlmKHBhZ2VDb3VudCA8IDEpe1xyXG4gICAgcGFnZUNvdW50ID0gMTtcclxuICB9XHJcbiAgLy9hbGVydChwYWdlQ291bnQpO1xyXG4gIC8vY29uc3QgcGFnZUNvdW50ID0gNTtcclxuICAvL2FsZXJ0KGFsbHAuZGF0YS5jb2RlKTtcclxuXHJcbiAgaWYgKGRhdGEucmVzdGF1cmFudHMgJiYgZGF0YS5yZXN0YXVyYW50cy5sZW5ndGgpIHtcclxuICAgIFxyXG4gICAgLy9zZWFyY2hRdWVyeVxyXG4gICAgY29uc3Qgc2VhcmNoUXVlcnkgPSBkYXRhLnJlc3RhdXJhbnRzLmZpbHRlcigocXVlcnkpID0+XHJcbiAgICAgIHF1ZXJ5Lm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhwcm9wcy5zZWFyY2gpXHJcbiAgICApO1xyXG4gICAgLy9zZXRXaG9sZXJlcyhkYXRhLnJlc3RhdXJhbnRzLmxlbmd0aCk7XHJcbiAgICAvL2NvbnN0IHBhZ2VDb3VudCA9IFdob2xlcmVzIC8gMTA7XHJcblxyXG4gICAgaWYgKHNlYXJjaFF1ZXJ5Lmxlbmd0aCAhPSAwKSB7XHJcblxyXG4gICAgICBpZihwcm9wcy5zZWFyY2ggIT0gXCJcIil7XHJcbiAgICAgICAgc2V0QWxyZWFkeXNlYXJjaCgxKTtcclxuICAgICAgICBhbGVydChcInRlc3RcIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHBhZ2dpbmF0aW9uSGFuZGxlciA9IChwYWdlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFBhdGggPSByb3V0ZXIucGF0aG5hbWU7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFF1ZXJ5ID0geyAuLi5yb3V0ZXIucXVlcnkgfTtcclxuICAgICAgICBjdXJyZW50UXVlcnkucGFnZSA9IHBhZ2Uuc2VsZWN0ZWQgKyAxO1xyXG4gICAgICAgIC8vYWxlcnQocGFnZS5zZWxlY3RlZCk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhwYWdlLnNlbGVjdGVkKTtcclxuICAgICAgICBcclxuICAgICAgICByb3V0ZXIucHVzaCh7XHJcbiAgICAgICAgICAgIHBhdGhuYW1lOiBjdXJyZW50UGF0aCxcclxuICAgICAgICAgICAgLy9xdWVyeTogY3VycmVudFF1ZXJ5LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgLy8vL3Jlc2V0IHBhZ2UgdG8gdGhlIGZpcnN0IHBhZ2Ugd2hlbiBzZWFyY2ggaXMgbm90IGEgZmlyc3QgcGFnZVxyXG4gICAgICAvKmlmKHByb3BzLnNlYXJjaCAhPSBcIlwiICYmIHBhZ2Uuc2VsZWN0ZWQgIT0gMCl7XHJcbiAgICAgICAgc2V0QWxyZWFkeXNlYXJjaCgxKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYoQWxyZWFkeXNlYXJjaCA9PSAxICYmIHByb3BzLnNlYXJjaCA9PSBcIlwiKXtcclxuICAgICAgICB2YXIgc3RhcnRlID0gMDtcclxuICAgICAgICBSb3V0ZXIucHVzaChcIi9cIik7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZXtcclxuICAgICAgICB2YXIgc3RhcnRlID0gMTAgKiAocGFnZS5zZWxlY3RlZCArIDEpIC0gMTA7XHJcbiAgICAgIH0qL1xyXG4gICAgICBcclxuICAgICAgZmV0Y2hNb3JlKHtcclxuICAgICAgICB2YXJpYWJsZXM6IHtcclxuICAgICAgICAgIC8vc3RhcnQ6IGRhdGEucmVzdGF1cmFudHMubGVuZ3RoICogY3VycmVudFF1ZXJ5LnBhZ2UgLSAxMCxcclxuICAgICAgICAgIHN0YXJ0OiAxMCAqIChwYWdlLnNlbGVjdGVkICsgMSkgLSAxMCxcclxuICAgICAgICAgIGxpbWl0OiAxMCxcclxuICAgICAgICAgIG5hbWU6IHByb3BzLnNlYXJjaCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVwZGF0ZVF1ZXJ5OiAocHJldiwgeyBmZXRjaE1vcmVSZXN1bHQgfSkgPT4ge1xyXG4gICAgICAgICAgLy9zZXRXaG9sZXJlcyhzZWFyY2hRdWVyeS5sZW5ndGgpO1xyXG4gICAgICAgICAgaWYgKCFmZXRjaE1vcmVSZXN1bHQpIHJldHVybiBwcmV2O1xyXG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXYsIHtcclxuICAgICAgICAgICAgLy9yZXN0YXVyYW50czogWy4uLnByZXYucmVzdGF1cmFudHMsIC4uLmZldGNoTW9yZVJlc3VsdC5yZXN0YXVyYW50c11cclxuICAgICAgICAgICAgcmVzdGF1cmFudHM6IFsuLi5mZXRjaE1vcmVSZXN1bHQucmVzdGF1cmFudHNdXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgICAgXHJcbiAgICAgIH07XHJcbiAgICAgIC8vY29uc3QgcGFnZUNvdW50ID0gc2VhcmNoUXVlcnkubGVuZ3RoIC8gMTA7XHJcbiAgICAgIC8vc2V0V2hvbGVyZXMoc2VhcmNoUXVlcnkubGVuZ3RoKTtcclxuICAgICAgLy9jb25zdCBwYWdlQ291bnQgPSBXaG9sZXJlcyAvIDEwO1xyXG4gICAgICAvL2NvbnN0IHBhZ2VDb3VudCA9IDU7XHJcbiAgICAgIC8vY29uc3QgcGFnZUNvdW50ID0gZGF0YS5yZXN0YXVyYW50cy5sZW5ndGggLyAxMDtcclxuICAgICAgLypjb25zdCBwYWdnaW5hdGlvbkhhbmRsZXIgPSAocGFnZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRQYXRoID0gcm91dGVyLnBhdGhuYW1lO1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRRdWVyeSA9IHsgLi4ucm91dGVyLnF1ZXJ5IH07XHJcbiAgICAgICAgY3VycmVudFF1ZXJ5LnBhZ2UgPSBwYWdlLnNlbGVjdGVkICsgMTtcclxuICAgICAgICAvL2FsZXJ0KGN1cnJlbnRRdWVyeS5wYWdlKTtcclxuICAgICAgICByb3V0ZXIucHVzaCh7XHJcbiAgICAgICAgICAgIHBhdGhuYW1lOiBjdXJyZW50UGF0aCxcclxuICAgICAgICAgICAgcXVlcnk6IGN1cnJlbnRRdWVyeSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAvL3VzZSBzdGF0ZSB0byBrZWVwICB0aGUgc2VhcmNoUXVlcnkubGVuZ3RoIHZhbCgpLy8vLy8vL1xyXG4gICAgICAgIFxyXG4gICAgICAgIGZldGNoTW9yZSh7XHJcbiAgICAgICAgICB2YXJpYWJsZXM6IHtcclxuICAgICAgICAgICAgLy9zdGFydDogZGF0YS5yZXN0YXVyYW50cy5sZW5ndGggKiBjdXJyZW50UXVlcnkucGFnZSAtIDEwLFxyXG4gICAgICAgICAgICBzdGFydDogMTAgKiBjdXJyZW50UXVlcnkucGFnZSAtIDEwLFxyXG4gICAgICAgICAgICBsaW1pdDogMTAsXHJcbiAgICAgICAgICAgIG5hbWU6IHByb3BzLnNlYXJjaCxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB1cGRhdGVRdWVyeTogKHByZXYsIHsgZmV0Y2hNb3JlUmVzdWx0IH0pID0+IHtcclxuICAgICAgICAgICAgc2V0V2hvbGVyZXMoc2VhcmNoUXVlcnkubGVuZ3RoKTtcclxuICAgICAgICAgICAgaWYgKCFmZXRjaE1vcmVSZXN1bHQpIHJldHVybiBwcmV2O1xyXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldiwge1xyXG4gICAgICAgICAgICAgIC8vcmVzdGF1cmFudHM6IFsuLi5wcmV2LnJlc3RhdXJhbnRzLCAuLi5mZXRjaE1vcmVSZXN1bHQucmVzdGF1cmFudHNdXHJcbiAgICAgICAgICAgICAgcmVzdGF1cmFudHM6IFsuLi5mZXRjaE1vcmVSZXN1bHQucmVzdGF1cmFudHNdXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgXHJcbiAgICAgIH07Ki9cclxuXHJcbiAgICAgIC8vY29uc3Qge3BhZ2V9ID0gcm91dGVyLnF1ZXJ5O1xyXG4gICAgICAvL2NvbnN0IGNvbnRlbnQgPSB7cGFnZX07XHJcbiAgICAgIC8qY29uc3QgcGFnZSA9IDE7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRRdWVyeSA9IHsgLi4ucm91dGVyLnF1ZXJ5IH07XHJcbiAgICAgIGN1cnJlbnRRdWVyeS5wYWdlID0gcGFnZS5zZWxlY3RlZCArIDE7XHJcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBjdXJyZW50UXVlcnkucGFnZTsqL1xyXG4gICAgICAvL2FsZXJ0KHBhZ2VDb3VudCk7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPFJvdz5cclxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IDQwLCBtYXJnaW5Ub3A6IDAgfX0+XHJcbiAgICAgICAgICAgICAgPGgyPuC4o+C5ieC4suC4meC4reC4suC4q+C4suC4o+C4l+C4seC5ieC4h+C4q+C4oeC4lCAoQWxsIG9mIFJlc3RhdXJhbnRzKT4+PC9oMj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPHA+XHJcbiAgICAgICAgICAgICAgPExpbmtcclxuICAgICAgICAgICAgICAgICAgICBhcz17YC9hZGRyZXN0YXVyYW50L2B9XHJcbiAgICAgICAgICAgICAgICAgICAgaHJlZj17YC9hZGRyZXN0YXVyYW50cy9gfVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCI+4LmA4Lie4Li04LmI4Lih4Lij4LmJ4Liy4LiZ4Lit4Liy4Lir4Liy4LijPC9hPlxyXG4gICAgICAgICAgICAgIDwvTGluaz5cclxuICAgICAgICAgIDwvcD5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIiBzdHlsZT17eyBtYXJnaW5Cb3R0b206IDIwIH19PlxyXG4gICAgICAgICAgPFJlYWN0UGFnaW5hdGVcclxuICAgICAgICAgICAgICAgIHByZXZpb3VzTGFiZWw9eydwcmV2aW91cyd9XHJcbiAgICAgICAgICAgICAgICBuZXh0TGFiZWw9eyduZXh0J31cclxuICAgICAgICAgICAgICAgIGJyZWFrTGFiZWw9eycuLi4nfVxyXG4gICAgICAgICAgICAgICAgYnJlYWtDbGFzc05hbWU9eydicmVhay1tZSd9XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVDbGFzc05hbWU9eydhY3RpdmUnfVxyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyQ2xhc3NOYW1lPXsncGFnaW5hdGlvbid9XHJcbiAgICAgICAgICAgICAgICBzdWJDb250YWluZXJDbGFzc05hbWU9eydwYWdlcyBwYWdpbmF0aW9uJ31cclxuXHJcbiAgICAgICAgICAgICAgICBpbml0aWFsUGFnZT17MSAtIDF9XHJcbiAgICAgICAgICAgICAgICBwYWdlQ291bnQ9e3BhZ2VDb3VudH0gLy9wYWdlIGNvdW50XHJcbiAgICAgICAgICAgICAgICBtYXJnaW5QYWdlc0Rpc3BsYXllZD17Mn1cclxuICAgICAgICAgICAgICAgIHBhZ2VSYW5nZURpc3BsYXllZD17NX1cclxuICAgICAgICAgICAgICAgIG9uUGFnZUNoYW5nZT17cGFnZ2luYXRpb25IYW5kbGVyfVxyXG4gICAgICAgICAgICAgICAgZGlzYWJsZUluaXRpYWxDYWxsYmFjaz17dHJ1ZX1cclxuICAgICAgICAgICAgICAgIGFjdGl2ZUxpbmtDbGFzc05hbWU9eydhY3RpdmUnfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIHtzZWFyY2hRdWVyeS5tYXAoKHJlcykgPT4gKFxyXG4gICAgICAgICAgICA8Q29sIHhzPVwiNlwiIHNtPVwiNFwiIGtleT17cmVzLmlkfT5cclxuICAgICAgICAgICAgICA8Q2FyZCBzdHlsZT17eyBtYXJnaW46IFwiMCAwLjVyZW0gMjBweCAwLjVyZW1cIiB9fT5cclxuICAgICAgICAgICAgICAgIDxDYXJkSW1nXHJcbiAgICAgICAgICAgICAgICAgIHRvcD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgaGVpZ2h0OiAyNTAgfX1cclxuICAgICAgICAgICAgICAgICAgc3JjPXtcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgID8gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5pbWFnZVswXSAhPSBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcmVzLmltYWdlWzBdLnVybFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGBodHRwczovL3N0cmFwaXVwbG9hZHRvZXkuczMuYW1hem9uYXdzLmNvbS9pc3RvY2twaG90b185MjI5NjIzNTRfNjEyeDYxMl8wZjVhMGVhYmM0LmpwZ2BcclxuICAgICAgICAgICAgICAgICAgICAgIDogXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5pbWFnZVswXSAhPSBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTH0ke3Jlcy5pbWFnZVswXS51cmx9YFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkx9L3VwbG9hZHMvaXN0b2NrcGhvdG8tOTIyOTYyMzU0LTYxMng2MTIuanBnYFxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8Q2FyZEJvZHk+XHJcbiAgICAgICAgICAgICAgICAgIDxDYXJkVGl0bGU+e3Jlcy5uYW1lfTwvQ2FyZFRpdGxlPlxyXG4gICAgICAgICAgICAgICAgICA8Q2FyZFRleHQ+e3Jlcy5kZXNjcmlwdGlvbn08L0NhcmRUZXh0PlxyXG4gICAgICAgICAgICAgICAgPC9DYXJkQm9keT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1mb290ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgPExpbmtcclxuICAgICAgICAgICAgICAgICAgICBhcz17YC9yZXN0YXVyYW50cy8ke3Jlcy5pZH1gfVxyXG4gICAgICAgICAgICAgICAgICAgIGhyZWY9e2AvcmVzdGF1cmFudHM/aWQ9JHtyZXMuaWR9YH1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiPlZpZXc8L2E+XHJcbiAgICAgICAgICAgICAgICAgIDwvTGluaz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvQ2FyZD5cclxuICAgICAgICAgICAgPC9Db2w+XHJcbiAgICAgICAgICApKX1cclxuXHJcbiAgICAgICAgICA8c3R5bGUganN4IGdsb2JhbD5cclxuICAgICAgICAgICAge2BcclxuICAgICAgICAgICAgICAvKmEge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBhOmxpbmsge1xyXG4gICAgICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBhOmhvdmVyIHtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgICAgICAgICB9Ki9cclxuICAgICAgICAgICAgICAuY2FyZC1jb2x1bW5zIHtcclxuICAgICAgICAgICAgICAgIGNvbHVtbi1jb3VudDogMztcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIC8qLmNvbnRhaW5lciB7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogOTAwcHg7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW46IGF1dG87XHJcbiAgICAgICAgICAgICAgfSovXHJcbiAgICAgICAgICAgICAgLnBvc3RzIHtcclxuICAgICAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDQwMHB4O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAucGFnaW5hdGlvbiB7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICAgICAgbGlzdC1zdHlsZTogbm9uZTtcclxuICAgICAgICAgICAgICAgIGhlaWdodDogNDBweDtcclxuICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IGZpdC1jb250ZW50O1xyXG4gICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiA0MHB4O1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGF7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICAgICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAgMTBweDtcclxuICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBibGFjaztcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgYTpob3ZlcntcclxuICAgICAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAuYWN0aXZlIGF7XHJcbiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcclxuXHRcdFx0XHQgICAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xyXG5cdFx0XHRcdCAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYH1cclxuICAgICAgICAgIDwvc3R5bGU+XHJcbiAgICAgICAgPC9Sb3c+XHJcblxyXG4gICAgICAgIFxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIDxoMT5ObyBSZXN0YXVyYW50cyBGb3VuZDwvaDE+O1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gPGg1PkFkZCBSZXN0YXVyYW50czwvaDU+O1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBSZXN0YXVyYW50TGlzdDsiXX0= */\\n/*@ sourceURL=C:\\\\\\\\xampp\\\\\\\\htdocs\\\\\\\\next-react-hooks-strapi-food-delivery\\\\\\\\frontend\\\\\\\\components\\\\\\\\RestaurantList\\\\\\\\index.js */\"));\n    } else {\n      return __jsx(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 14\n        }\n      }, \"No Restaurants Found\");\n    }\n  }\n\n  return __jsx(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 10\n    }\n  }, \"Add Restaurants\");\n}\n\nexport default RestaurantList;","map":{"version":3,"sources":["C:/xampp/htdocs/next-react-hooks-strapi-food-delivery/frontend/components/RestaurantList/index.js"],"names":["useQuery","gql","Link","Card","CardBody","CardImg","CardText","CardTitle","Row","Col","React","useState","useEffect","ReactPaginate","Router","withRouter","useRouter","queryString","axios","QUERY","RestaurantList","props","Wholeres","setWholeres","Alreadysearch","setAlreadysearch","router","page","query","loading","error","data","fetchMore","variables","start","limit","name","search","get","then","response","restau","console","log","pageCount","restaurants","length","searchQuery","filter","toLowerCase","includes","alert","pagginationHandler","currentPath","pathname","currentQuery","selected","push","updateQuery","prev","fetchMoreResult","Object","assign","marginRight","marginTop","marginBottom","map","res","id","margin","height","image","url","process","env","NEXT_PUBLIC_API_URL","description"],"mappings":"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","sourcesContent":["/* components/RestaurantList/index.js */\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport { gql } from \"apollo-boost\";\r\n\r\nimport Link from \"next/link\";\r\n\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardImg,\r\n  CardText,\r\n  CardTitle,\r\n  Row,\r\n  Col,\r\n} from \"reactstrap\";\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport ReactPaginate from 'react-paginate';\r\nimport Router, { withRouter, useRouter } from 'next/router'\r\nimport queryString from 'query-string'\r\nimport axios from 'axios';\r\n\r\nconst QUERY = gql`\r\n    query restaurants($start: Int, $limit: Int, $name : String!) {\r\n      \r\n      restaurants(start: $start, limit: $limit, where: { name_contains: $name }) {\r\n          id\r\n          name\r\n          description\r\n          image {\r\n            url\r\n          }\r\n      }\r\n    }\r\n`;\r\n\r\nfunction RestaurantList(props) {\r\n  const [Wholeres, setWholeres] = React.useState(0);\r\n  var [Alreadysearch, setAlreadysearch] = useState(0);\r\n\r\n  const router = useRouter();\r\n  const {page} = router.query;\r\n  /*const starte = 0;\r\n  if({page} == 2){\r\n    const starte = 5;\r\n  }\r\n  else{\r\n    const starte = 0;\r\n  }*/\r\n  const { loading, error, data, fetchMore } = useQuery(QUERY, {\r\n    variables: {\r\n      //date: date,\r\n      //offset: 0,\r\n      start: 0,\r\n      limit: 10,\r\n      name: props.search,\r\n      //limit: 10,\r\n      //start: starte,\r\n      //resellIndex: resellFilter,\r\n      //brandCategorieName: brandFilter\r\n    }\r\n  });\r\n\r\n  if (error) return \"Error loading restaurants\";\r\n  //if restaurants are returned from the GraphQL query, run the filter query\r\n  //and set equal to variable restaurantSearch\r\n  if (loading) return <h1>Fetching</h1>;\r\n  \r\n  //setWholeres(data.restaurants.length);\r\n axios.get(`http://localhost:1337/restaurants/count/?name_contains=${props.search}`)\r\n  .then(response => {\r\n    const restau =response.data;\r\n    setWholeres(restau);\r\n    //alert(restau);\r\n    console.log(restau);\r\n  }, error => {\r\n    console.log(error);\r\n  });\r\n  \r\n  var pageCount = Wholeres / 10;\r\n  if(pageCount < 1){\r\n    pageCount = 1;\r\n  }\r\n  //alert(pageCount);\r\n  //const pageCount = 5;\r\n  //alert(allp.data.code);\r\n\r\n  if (data.restaurants && data.restaurants.length) {\r\n    \r\n    //searchQuery\r\n    const searchQuery = data.restaurants.filter((query) =>\r\n      query.name.toLowerCase().includes(props.search)\r\n    );\r\n    //setWholeres(data.restaurants.length);\r\n    //const pageCount = Wholeres / 10;\r\n\r\n    if (searchQuery.length != 0) {\r\n\r\n      if(props.search != \"\"){\r\n        setAlreadysearch(1);\r\n        alert(\"test\");\r\n      }\r\n\r\n      const pagginationHandler = (page) => {\r\n        const currentPath = router.pathname;\r\n        const currentQuery = { ...router.query };\r\n        currentQuery.page = page.selected + 1;\r\n        //alert(page.selected);\r\n        //console.log(page.selected);\r\n        \r\n        router.push({\r\n            pathname: currentPath,\r\n            //query: currentQuery,\r\n        });\r\n      \r\n      ////reset page to the first page when search is not a first page\r\n      /*if(props.search != \"\" && page.selected != 0){\r\n        setAlreadysearch(1);\r\n      }\r\n\r\n      if(Alreadysearch == 1 && props.search == \"\"){\r\n        var starte = 0;\r\n        Router.push(\"/\");\r\n      }\r\n      else{\r\n        var starte = 10 * (page.selected + 1) - 10;\r\n      }*/\r\n      \r\n      fetchMore({\r\n        variables: {\r\n          //start: data.restaurants.length * currentQuery.page - 10,\r\n          start: 10 * (page.selected + 1) - 10,\r\n          limit: 10,\r\n          name: props.search,\r\n        },\r\n        updateQuery: (prev, { fetchMoreResult }) => {\r\n          //setWholeres(searchQuery.length);\r\n          if (!fetchMoreResult) return prev;\r\n          return Object.assign({}, prev, {\r\n            //restaurants: [...prev.restaurants, ...fetchMoreResult.restaurants]\r\n            restaurants: [...fetchMoreResult.restaurants]\r\n          });\r\n        }\r\n      })\r\n        \r\n      };\r\n      //const pageCount = searchQuery.length / 10;\r\n      //setWholeres(searchQuery.length);\r\n      //const pageCount = Wholeres / 10;\r\n      //const pageCount = 5;\r\n      //const pageCount = data.restaurants.length / 10;\r\n      /*const pagginationHandler = (page) => {\r\n        const currentPath = router.pathname;\r\n        const currentQuery = { ...router.query };\r\n        currentQuery.page = page.selected + 1;\r\n        //alert(currentQuery.page);\r\n        router.push({\r\n            pathname: currentPath,\r\n            query: currentQuery,\r\n        });\r\n        \r\n        //use state to keep  the searchQuery.length val()///////\r\n        \r\n        fetchMore({\r\n          variables: {\r\n            //start: data.restaurants.length * currentQuery.page - 10,\r\n            start: 10 * currentQuery.page - 10,\r\n            limit: 10,\r\n            name: props.search,\r\n          },\r\n          updateQuery: (prev, { fetchMoreResult }) => {\r\n            setWholeres(searchQuery.length);\r\n            if (!fetchMoreResult) return prev;\r\n            return Object.assign({}, prev, {\r\n              //restaurants: [...prev.restaurants, ...fetchMoreResult.restaurants]\r\n              restaurants: [...fetchMoreResult.restaurants]\r\n            });\r\n          }\r\n        })\r\n        \r\n      };*/\r\n\r\n      //const {page} = router.query;\r\n      //const content = {page};\r\n      /*const page = 1;\r\n      const currentQuery = { ...router.query };\r\n      currentQuery.page = page.selected + 1;\r\n      const content = currentQuery.page;*/\r\n      //alert(pageCount);\r\n      return (\r\n        <Row>\r\n          <div style={{ marginRight: 40, marginTop: 0 }}>\r\n              <h2>ร้านอาหารทั้งหมด (All of Restaurants)>></h2>\r\n          </div>\r\n          <p>\r\n              <Link\r\n                    as={`/addrestaurant/`}\r\n                    href={`/addrestaurants/`}\r\n                  >\r\n                    <a className=\"btn btn-primary\">เพิ่มร้านอาหาร</a>\r\n              </Link>\r\n          </p>\r\n          \r\n          <div className=\"container\" style={{ marginBottom: 20 }}>\r\n          <ReactPaginate\r\n                previousLabel={'previous'}\r\n                nextLabel={'next'}\r\n                breakLabel={'...'}\r\n                breakClassName={'break-me'}\r\n                activeClassName={'active'}\r\n                containerClassName={'pagination'}\r\n                subContainerClassName={'pages pagination'}\r\n\r\n                initialPage={1 - 1}\r\n                pageCount={pageCount} //page count\r\n                marginPagesDisplayed={2}\r\n                pageRangeDisplayed={5}\r\n                onPageChange={pagginationHandler}\r\n                disableInitialCallback={true}\r\n                activeLinkClassName={'active'}\r\n          />\r\n          </div>\r\n\r\n          {searchQuery.map((res) => (\r\n            <Col xs=\"6\" sm=\"4\" key={res.id}>\r\n              <Card style={{ margin: \"0 0.5rem 20px 0.5rem\" }}>\r\n                <CardImg\r\n                  top={true}\r\n                  style={{ height: 250 }}\r\n                  src={\r\n                    process.env.NODE_ENV === \"production\"\r\n                      ? \r\n                        res.image[0] != null\r\n                        ? res.image[0].url\r\n                        : `https://strapiuploadtoey.s3.amazonaws.com/istockphoto_922962354_612x612_0f5a0eabc4.jpg`\r\n                      : \r\n                        res.image[0] != null\r\n                        ? `${process.env.NEXT_PUBLIC_API_URL}${res.image[0].url}`\r\n                        : `${process.env.NEXT_PUBLIC_API_URL}/uploads/istockphoto-922962354-612x612.jpg`\r\n                  }\r\n                />\r\n                \r\n                <CardBody>\r\n                  <CardTitle>{res.name}</CardTitle>\r\n                  <CardText>{res.description}</CardText>\r\n                </CardBody>\r\n                <div className=\"card-footer\">\r\n                  <Link\r\n                    as={`/restaurants/${res.id}`}\r\n                    href={`/restaurants?id=${res.id}`}\r\n                  >\r\n                    <a className=\"btn btn-primary\">View</a>\r\n                  </Link>\r\n                </div>\r\n              </Card>\r\n            </Col>\r\n          ))}\r\n\r\n          <style jsx global>\r\n            {`\r\n              /*a {\r\n                color: white;\r\n              }\r\n              a:link {\r\n                text-decoration: none;\r\n                color: white;\r\n              }\r\n              a:hover {\r\n                color: white;\r\n              }*/\r\n              .card-columns {\r\n                column-count: 3;\r\n              }\r\n\r\n              /*.container {\r\n                width: 900px;\r\n                margin: auto;\r\n              }*/\r\n              .posts {\r\n                min-height: 400px;\r\n              }\r\n              .pagination {\r\n                display: flex;\r\n                list-style: none;\r\n                height: 40px;\r\n                border: 1px solid black;\r\n                border-radius: 5px;\r\n                width: fit-content;\r\n                align-items: center;\r\n                padding: 0;\r\n                margin-top: 40px;\r\n                \r\n              }\r\n              a{\r\n                display: flex;\r\n                align-items: center;\r\n                height: 100%;\r\n                padding: 0 10px;\r\n                cursor: pointer;\r\n                color: black;\r\n              }\r\n              a:hover{\r\n                text-decoration: underline;\r\n              }\r\n              .active a{\r\n                font-weight: bold;\r\n\t\t\t\t        text-decoration: underline;\r\n\t\t\t\t        pointer-events: none;\r\n              }\r\n\r\n            `}\r\n          </style>\r\n        </Row>\r\n\r\n        \r\n      );\r\n    } else {\r\n      return <h1>No Restaurants Found</h1>;\r\n    }\r\n  }\r\n  return <h5>Add Restaurants</h5>;\r\n}\r\n\r\nexport default RestaurantList;"]},"metadata":{},"sourceType":"module"}